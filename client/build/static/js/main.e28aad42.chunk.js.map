{"version":3,"sources":["redux/reducers/feed.js","redux/reducers/reddit.js","redux/reducers/index.js","redux/actionTypes.js","resources/facecodes.js","resources/CommentFace.js","resources/Spoiler.js","resources/renderers.js","components/Editor.js","components/CommentRows.js","components/Comment.js","redux/actions.js","containers/CommentContainer.js","components/Feed.js","containers/FeedContainer.js","components/Heading.js","containers/HeadingContainer.js","components/About.js","components/Changelog.js","components/PageNotFound.js","components/Login.js","App.js","serviceWorker.js","index.js"],"names":["initialState","history","thread","kind","_id","id","permalink","upvoted","localStorage","getItem","JSON","parse","hidden","saved","refreshToken","accessToken","isLoggedIn","loggedInAs","combineReducers","feed","state","arguments","length","undefined","action","type","Object","objectSpread","concat","toConsumableArray","payload","filter","comment","map","includes","body","setItem","stringify","reddit","removeItem","facecodes","#example-face-code","#breakingnews","#brofist","#cokemasterrace","#curious","#evilgrin","#fedup","#flattered","#flyingbunsofdoom","#forgotkeys","#garlock","#giveuponlife","#helmetbro","#idoruwinkdesu","#justno","#missedthepoint","#hajimepout","#nuidideverythingright","#rerorero","#scrumptiouslymoe","#slapbet","#watchadoin","#torrentialdownpour","#slightoverreaction","#prelenny","#volibearQ","#mywaifumadeyouasandwich","#urbansmile","#anko","#hyoukawink","#yousaidsomethingdumb","#banjo","#peasants","#excitedyui","#dancewithit","#budgetsmile","#elsiesigh","#hnng","#shittaste","#taigasigh","#woo","#yuitears","#kurisudisappointed","#kobeniblush","#moeshitarcher","#kinirohug","#panic","#frustration","#laughter","#oilup","#popcorn","#imdone","#unsure","#wallbang","#fistbump","#grouphug","#hahahawhat","#nosebleed","#elsienopesout","#feelsgoodman","#shutupandtakemymoney","#combo","#abandonthread","#shirouthumbsup","#kayosmile","#mandom","#megumin","#niconicono","#akkotears","#aliens","#angrypout","#blankblink","#criticism","#emptyinside","#comfortfood","#trynottocry","#dekuhype","#emiliaohdear","#hugbear","#lolipolice","#mashiroglare","#lwahorror","#lwahorror2","#salt","#modabuse","#hisocuck","#salutegeo","#shitposting","#squee","#terror","#awe","#wow","#nyanpasu","#wallpunch","#doggo","#headpat","#akyuusqueel","#annoyedkirito","#arakawascream","#asunanotamused","#badassmugi","#barakamonnotcool","#bearhug","#bestiacheckyourprivilage","#bestiathumbsup","#biribiricat","#chiyomad","#comewithmeifyouwanttobebestgirl","#crazedlaugh","#csikon","#cup1","#cup2","#disbelief","#dontdometh","#duckhue","#elsieqq","#etotamadunno","#gintamaspillage","#gintamasunlight","#gintamathispleasesme","#glasses-push","#hanasakueurgh","#haruhiisnotamused","#mmmmyrgh","#hisokaclown","#hunchedover","#infernocopu","#jibrilaww","#katoupls","#katoupout","#kumikouninterested","#kyonfacepalm","#maidshock","#marikalewd","#mechablush","#miiaembarassed","#misakiwink","#misakiteehee","#mug1","#mug2","#mug3","#niatilt","#nichijouqq","#nononkek","#nosepick","#rengehype","#scaredmio","#sheerdisgust","#smuglancer","#smugpoint","#smugshinobu","#sports","#trollarcher","#whowouldathunkit","#WRYYY","#yandereyuno","#yuruyuriapprove","#adminsdidwhat","#airfist","#amurodealwithit","#annoyedkiki","#annoyedmayaka","#antabaka","#konosubawot","#arresteddevelopment","#assman","#badtaste","#banhammer","#biiru","#blindinglight","#brokenkokoro","#cantbehelped","#cateyes","#cheekygahara","#chinosmirk","#comfy","#concealedexcitement","#cooresto","#crumblingdespair","#cup3","#cup4","#cup5","#cup6","#cup7","#cup8","#cup9","#datass","#dejected","#delicioustears","#didyouseriouslyjustsaythat","#displeasedasuka","#donewiththisshit","#dubs","#edneedsdis","#eheheh","#ero","#everythingisfine","#eyythisguy","#faito","#feelingloved","#fingertwirl","#firstthinginthemorning","#forbiddenlove","#frockychou.png","#fuckyou","#fujostare","#gabdisgust","#getout","#ginapproves","#girlishploy","#giveitback","#goblet1","#hackadollthumbsup","#happyrem","#happysaitama","#healthypasstimes","#hellopolice","#helmetgril","#hououinseesit","#howcouldyou","#hypeoverload","#igiveup","#illyastare","#ilovethiskindofshit","#judgesucy","#juice1","#justasplanned","#kannathumbs","#kanyehidouyo","#kaorusmile","#happykaoru","#konosubawot2:","#keikaku","#killwithfire","#killuadisgust","#kms","#konhug","#konodioda","#konosubawot3","#kukuku2","#kumikolook","#kumikotears","#kurokokek","#KUSOTTARE","#labmembernumber009","#lewdgyaru","#lifeishard","#loli_ok","#loliwave","#makicry","#megubeer","#meguminthumbsup","#megushock","#mindblank","#minoridenied","#mitsukishock","#miyamoriunimpressed","#morethanonewaifu","#mug4","#mug5","#mug6","#mug7","#mug8","#mug9","#mug10","#naziloli","#nerr","#nichijouthumbs","#nicoheart","#nicoisdone","#niconoo","#noice","#nosebleedthumbs","#nosenpai","#notaccordingtokeikaku","#nottodisushittoagen","#ohdear","#ohfuck","#ohshit","#ok_hand","#oooreally","#osomatsurage","#overwhelmed","#papithumbsup","#peace","#peacepeace","#plebgetawayfromme","#poltears","#protest","#psh-mongrels","#ptsd","#quality","#rec","#rinkek","#saberawe","#sadholo","#saehug","#saesmile","#saikikek","#saitamadeathstare","#salute","#schemingsaten","#sciencebringspeopletogehter","#schwing","#selfcontrol","#shatteredsaten","#shh","#shhbabe","#shinjimug","#shirayukidetermined","#shirayukidizzyblush","#shirayukidrunk","#shirayukieavesdrop","#shirayukifuckinreally","#shirayukismile","#sideeyes","#sleepingcutie","#smugasuna","#smughaikyuu","#smugobi","#smugrose","#sowwy","#spookyglasses","#surprisedhifumi","#sweating","#taigaheadache","#takaradasalute","#takasakiapproves","#tamakoapple","#tearsofabestgirl","#teekyuuhype","#thinkingtoohard","#thisisfine","#tomato","#TOMODA","#toradorable","#toradorasalute","#towel","#triggeredkillua","#urarahype","#usamiwink","#utahapraises","#uwaa","#waah","#watashihasdeclined","#watashiworried","#whatamireading","#whatdidijustread","#whatisthisguydoing","#whisperwhisper","#wideeyed","#yuishrug","#yunosunglasses","#zetsuboushta","#modsalute","CommentFace","props","react_default","a","createElement","className","title","src","code","alt","children","Spoiler","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setState","oldState","outerText","innerText","React","PureComponent","renderers","link","test","href","resources_CommentFace","resources_Spoiler","target","rel","Editor","isSending","text","handleChange","bind","assertThisInitialized","submit","cancel","e","value","uri","_this2","editorMode","axios","method","headers","Authorization","Content-Type","url","data","querystring","encode","api_type","thing_id","then","res","editFeed","process","message","toggleEditor","catch","err","console","log","preventDefault","window","getSelection","toString","replace","t","react_markdown_default","source","disallowedTypes","onSubmit","rows","cols","onChange","disabled","onClick","Component","CommentAuthorRow","author","style","float","Date","created","lib_default","date","CommentBodyRow","CommentButtonsRow","deletePost","save","hide","upvote","deleteFromFeed","_this3","isSaved","_this4","dir","mode","_this5","ownPost","isUpvoted","isHidden","components_Editor","assign","editPost","Comment","CommentContainer","key","CommentRows_CommentAuthorRow","CommentRows_CommentBodyRow","CommentRows_CommentButtonsRow","prependToFeed","arr","setAccessToken","token","setUser","user","connect","ownProps","parentID","dispatch","Feed","comments","marginTop","isLoading","loadMore","FeedContainer","emptyCalls","getHistory","keepGettingHistory","get","crossdomain","Array","isArray","setTimeout","appendToFeed","_this6","padding","components_Feed","Heading","updateThread","keepGettingAccessToken","getNewAccessToken","access_token","name","redirect","encodeURIComponent","params","join","Link","to","logout","About","md","NODE_APP_API","crossorigin","api","PageNotFound","Login","gotToken","error","refresh_token","rt","at","setRefreshToken","Redirect","App","generateString","handleLogin","sessionStorage","str","chars","i","Math","floor","random","qs","location","search","ignoreQueryPrefix","BrowserRouter","Switch","exact","from","Route","path","render","stype","HeadingContainer","containers_FeedContainer","components_About","Changelog","components_Login","component","Boolean","hostname","match","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","es","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2LASMA,EAAe,CACpBC,QAAS,GACTC,OAAQ,CACPC,KAAM,aACNC,IAAK,GACLC,GAAI,GACJC,UAAW,8BAEZC,QAASC,aAAaC,QAAQ,WAC3BC,KAAKC,MAAMH,aAAaC,QAAQ,YAChC,GACHG,OAAQJ,aAAaC,QAAQ,UAC1BC,KAAKC,MAAMH,aAAaC,QAAQ,WAChC,GACHI,MAAOL,aAAaC,QAAQ,SACzBC,KAAKC,MAAMH,aAAaC,QAAQ,UAChC,ICpBET,EAAe,CACpBc,aAAcN,aAAaC,QAAQ,gBAChCD,aAAaC,QAAQ,gBACrB,GACHM,YAAa,GACbC,aAAeR,aAAaC,QAAQ,gBACpCQ,WAAY,ICPEC,cAAgB,CAAEC,KFwBlB,WAAkC,IAAjCC,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBrB,EAAcwB,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAQC,EAAOC,MACd,IG7B4B,iBH8B3B,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECnB,QAAO,GAAA2B,OAAAF,OAAAG,EAAA,EAAAH,CACHN,EAAMnB,SADHyB,OAAAG,EAAA,EAAAH,CAEHF,EAAOM,QAAQC,OAAO,SAAAC,GACxB,OAASZ,EAAMnB,QACbgC,IAAI,SAAAD,GAAO,OAAIA,EAAQ5B,MACvB8B,SAASF,EAAQ5B,WAOvB,IG7C6B,kBH8C5B,OAAOsB,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECnB,QAAO,GAAA2B,OAAAF,OAAAG,EAAA,EAAAH,CACHF,EAAOM,QAAQC,OAAO,SAAAC,GACxB,OAASZ,EAAMnB,QACbgC,IAAI,SAAAD,GAAO,OAAIA,EAAQ5B,MACvB8B,SAASF,EAAQ5B,QAJdsB,OAAAG,EAAA,EAAAH,CAOHN,EAAMnB,YAKZ,IGvDuB,YHwDtB,OAAOyB,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECnB,QAASmB,EAAMnB,QACbgC,IAAI,SAAAD,GACJ,OAAIA,EAAQ5B,MAAQoB,EAAOM,QAAQ1B,IAC3BsB,OAAAC,EAAA,EAAAD,CAAA,GACHM,EADJ,CAECG,KAAMX,EAAOM,QAAQK,OAGfH,MAMZ,IGvE8B,mBHwE7B,OAAON,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECnB,QAASmB,EAAMnB,QACb8B,OAAO,SAAAC,GAAO,OAAIA,EAAQ5B,MAAQoB,EAAOM,YAI7C,IGnF2B,gBHoF1B,OAAOJ,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAEClB,OAAQsB,EAAOM,UAIjB,IGlFoB,SHwFnB,OALAtB,aAAa4B,QAAQ,UAAW1B,KAAK2B,UACpCjB,EAAMb,QAAQ2B,SAASV,EAAOM,SAC7BV,EAAMb,QAAQwB,OAAO,SAAA3B,GAAG,OAAIA,IAAQoB,EAAOM,UAD5C,GAAAF,OAAAF,OAAAG,EAAA,EAAAH,CAEKN,EAAMb,SAFX,CAEoBiB,EAAOM,YAErBJ,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECb,QAASa,EAAMb,QAAQ2B,SAASV,EAAOM,SACtCV,EAAMb,QAAQwB,OAAO,SAAA3B,GAAG,OAAIA,IAAQoB,EAAOM,UADnC,GAAAF,OAAAF,OAAAG,EAAA,EAAAH,CAEJN,EAAMb,SAFF,CAEWiB,EAAOM,YAI7B,IG/FkB,OHqGjB,OALAtB,aAAa4B,QAAQ,SAAU1B,KAAK2B,UACnCjB,EAAMR,OAAOsB,SAASV,EAAOM,SAC5BV,EAAMR,OAAOmB,OAAO,SAAA3B,GAAG,OAAIA,IAAQoB,EAAOM,UAD3C,GAAAF,OAAAF,OAAAG,EAAA,EAAAH,CAEKN,EAAMR,QAFX,CAEmBY,EAAOM,YAEpBJ,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECR,OAAQQ,EAAMR,OAAOsB,SAASV,EAAOM,SACpCV,EAAMR,OAAOmB,OAAO,SAAA3B,GAAG,OAAIA,IAAQoB,EAAOM,UADnC,GAAAF,OAAAF,OAAAG,EAAA,EAAAH,CAEHN,EAAMR,QAFH,CAEWY,EAAOM,YAI5B,IGjHkB,OHuHjB,OALAtB,aAAa4B,QAAQ,QAAS1B,KAAK2B,UAClCjB,EAAMP,MAAMqB,SAASV,EAAOM,SAC3BV,EAAMP,MAAMkB,OAAO,SAAA3B,GAAG,OAAIA,IAAQoB,EAAOM,UAD1C,GAAAF,OAAAF,OAAAG,EAAA,EAAAH,CAEKN,EAAMP,OAFX,CAEkBW,EAAOM,YAEnBJ,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECP,MAAOO,EAAMP,MAAMqB,SAASV,EAAOM,SAClCV,EAAMP,MAAMkB,OAAO,SAAA3B,GAAG,OAAIA,IAAQoB,EAAOM,UADnC,GAAAF,OAAAF,OAAAG,EAAA,EAAAH,CAEFN,EAAMP,OAFJ,CAEWW,EAAOM,YAI3B,QAAS,OAAOV,IElIqBkB,ODUxB,WAAkC,IAAjClB,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBrB,EAAcwB,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAQC,EAAOC,MACd,IEb8B,mBFc7B,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECL,YAAaS,EAAOM,QAAQf,cAI9B,IEnB+B,oBFoB9B,OAAOW,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECN,aAAcU,EAAOM,QAAQhB,eAI/B,IEtBsB,WFuBrB,OAAOY,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECJ,YAAY,EACZC,WAAYO,EAAOM,UAIrB,IE7BoB,SF+BnB,OADAtB,aAAa+B,WAAW,gBACjBb,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECL,YAAa,GACbD,aAAc,GACdE,YAAY,EACZC,WAAY,KAId,QAAS,OAAOG,kFG0THoB,EA3WG,CACjBC,qBAAsB,0BAEtBC,gBAAiB,4BACjBC,WAAY,0BACZC,kBAAmB,wBACnBC,WAAY,qBACZC,YAAa,sBACbC,SAAU,qBACVC,aAAc,yBACdC,oBAAqB,2BACrBC,cAAe,6BACfC,WAAY,wBACZC,gBAAiB,0BACjBC,aAAc,4BACdC,iBAAkB,2BAClBC,UAAW,wBACXC,kBAAmB,yBACnBC,cAAe,KACfC,yBAA0B,uBAC1BC,YAAa,sBACbC,oBAAqB,iCACrBC,WAAY,uBACZC,cAAe,8BACfC,sBAAuB,uBACvBC,sBAAuB,wBACvBC,YAAa,sBACbC,aAAc,uBACdC,2BAA4B,2BAC5BC,cAAe,KACfC,QAAS,KACTC,cAAe,KACfC,wBAAyB,KACzBC,SAAU,KACVC,YAAa,KACbC,cAAe,KACfC,eAAgB,6BAEhBC,eAAgB,0BAChBC,aAAc,kBACdC,QAAS,KACTC,aAAc,uBACdC,aAAc,4CACdC,OAAQ,iBACRC,YAAa,uBACbC,sBAAuB,iCACvBC,eAAgB,yBAChBC,iBAAkB,2BAClBC,aAAc,+BACdC,SAAU,6BACVC,eAAgB,kCAChBC,YAAa,+BACbC,SAAU,mBACVC,WAAY,8BACZC,UAAW,qBACXC,UAAW,4BACXC,YAAa,mCACbC,YAAa,gCACbC,YAAa,uBACbC,cAAe,iCACfC,aAAc,uCACdC,iBAAkB,2BAClBC,gBAAiB,2BACjBC,wBAAyB,mDACzBC,SAAU,yBACVC,iBAAkB,4BAClBC,kBAAmB,gDACnBC,aAAc,0BACdC,UAAW,sCACXC,WAAY,KACZC,cAAe,4BAEfC,aAAc,uBACdC,UAAW,oBACXC,aAAc,uBACdC,cAAe,wBACfC,aAAc,oBACdC,eAAgB,KAChBC,eAAgB,yBAChBC,eAAgB,yBAChBC,YAAa,sBACbC,gBAAiB,0BACjBC,WAAY,qBACZC,cAAe,wBACfC,gBAAiB,0BACjBC,aAAc,uBACdC,cAAe,KACfC,QAAS,kBACTC,YAAa,sBACbC,YAAa,sBACbC,aAAc,uBACdC,eAAgB,yBAChBC,SAAU,mBACVC,UAAW,KACXC,OAAQ,wBACRC,OAAQ,sBACRC,YAAa,sBACbC,aAAc,uBACdC,SAAU,kBACVC,WAAY,KAEZC,eAAgB,yBAChBC,iBAAkB,2BAClBC,iBAAkB,2BAClBC,kBAAmB,4BACnBC,cAAe,wBACfC,oBAAqB,8BACrBC,WAAY,qBACZC,4BAA6B,sCAC7BC,kBAAmB,4BACnBC,eAAgB,yBAChBC,YAAa,sBACbC,mCAAoC,6CACpCC,eAAgB,yBAChBC,UAAW,oBACXC,QAAS,kBACTC,QAAS,kBACTC,aAAc,uBACdC,cAAe,wBACfC,WAAY,qBACZC,WAAY,qBACZC,gBAAiB,yBACjBC,mBAAoB,6BACpBC,mBAAoB,6BACpBC,wBAAyB,kCACzBC,gBAAiB,0BACjBC,iBAAkB,2BAClBC,qBAAsB,+BACtBC,YAAa,uBACbC,eAAgB,yBAChBC,eAAgB,yBAChBC,eAAgB,yBAChBC,aAAc,uBACdC,YAAa,sBACbC,aAAc,uBACdC,sBAAuB,gCACvBC,gBAAiB,0BACjBC,aAAc,uBACdC,cAAe,wBACfC,cAAe,wBACfC,kBAAmB,4BACnBC,cAAe,wBACfC,gBAAiB,0BACjBC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,WAAY,qBACZC,cAAe,wBACfC,YAAa,sBACbC,YAAa,sBACbC,aAAc,uBACdC,aAAc,uBACdC,gBAAiB,0BACjBC,cAAe,wBACfC,aAAc,uBACdC,eAAgB,yBAChBC,UAAW,oBACXC,eAAgB,yBAChBC,oBAAqB,8BACrBC,SAAU,mBACVC,eAAgB,yBAChBC,mBAAoB,6BAEpBC,iBAAkB,2BAClBC,WAAY,qBACZC,mBAAoB,6BACpBC,eAAgB,yBAChBC,iBAAkB,2BAClBC,YAAa,sBACbC,eAAgB,qBAChBC,uBAAwB,iCACxBC,UAAW,oBACXC,YAAa,sBACbC,aAAc,uBACdC,SAAU,mBACVC,iBAAkB,2BAClBC,gBAAiB,0BACjBC,gBAAiB,0BACjBC,WAAY,qBACZC,gBAAiB,0BACjBC,cAAe,wBACfC,SAAU,mBACVC,uBAAwB,iCACxBC,YAAa,sBACbC,oBAAqB,8BACrBC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,UAAW,oBACXC,YAAa,sBACbC,kBAAmB,4BACnBC,8BAA+B,wCAC/BC,mBAAoB,6BACpBC,oBAAqB,8BACrBC,QAAS,kBACTC,cAAe,wBACfC,UAAW,oBACXC,OAAQ,iBACRC,oBAAqB,8BACrBC,cAAe,wBACfC,SAAU,mBACVC,gBAAiB,0BACjBC,eAAgB,yBAChBC,0BAA2B,oCAC3BC,iBAAkB,2BAClBC,kBAAmB,wBACnBC,WAAY,wBACZC,aAAc,uBACdC,cAAe,wBACfC,UAAW,oBACXC,eAAgB,yBAChBC,eAAgB,yBAChBC,cAAe,wBACfC,WAAY,qBACZC,qBAAsB,+BACtBC,YAAa,sBACbC,gBAAiB,0BACjBC,oBAAqB,8BACrBC,eAAgB,yBAChBC,cAAe,wBACfC,iBAAkB,2BAClBC,eAAgB,yBAChBC,gBAAiB,0BACjBC,WAAY,qBACZC,cAAe,wBACfC,uBAAwB,iCACxBC,aAAc,uBACdC,UAAW,oBACXC,iBAAkB,2BAClBC,eAAgB,yBAChBC,gBAAiB,0BACjBC,cAAe,yBACfC,cAAe,wBACfC,iBAAkB,uBAClBC,WAAY,qBACZC,gBAAiB,0BACjBC,iBAAkB,2BAClBC,OAAQ,iBACRC,UAAW,oBACXC,aAAc,uBACdC,gBAAiB,0BACjBC,WAAY,qBACZC,cAAe,wBACfC,eAAgB,yBAChBC,aAAc,uBACdC,aAAc,uBACdC,sBAAuB,gCACvBC,aAAc,uBACdC,cAAe,wBACfC,WAAY,qBACZC,YAAa,sBACbC,WAAY,qBACZC,YAAa,sBACbC,mBAAoB,qBACpBC,aAAc,uBACdC,aAAc,uBACdC,gBAAiB,0BACjBC,gBAAiB,0BACjBC,uBAAwB,iCACxBC,oBAAqB,8BACrBC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,QAAS,kBACTC,SAAU,mBACVC,YAAa,sBACbC,QAAS,kBACTC,kBAAmB,4BACnBC,aAAc,uBACdC,cAAe,wBACfC,WAAY,qBACZC,SAAU,mBACVC,mBAAoB,6BACpBC,YAAa,sBACbC,yBAA0B,mCAC1BC,uBAAwB,iCACxBC,UAAW,oBACXC,UAAW,oBACXC,UAAW,oBACXC,WAAY,qBACZC,aAAc,uBACdC,gBAAiB,0BACjBC,eAAgB,yBAChBC,gBAAiB,0BACjBC,SAAU,mBACVC,cAAe,wBACfC,qBAAsB,+BACtBC,YAAa,sBACbC,WAAY,qBACZC,gBAAiB,0BACjBC,QAAS,kBACTC,WAAY,qBACZC,OAAQ,iBACRC,UAAW,oBACXC,YAAa,sBACbC,WAAY,qBACZC,UAAW,oBACXC,YAAa,sBACbC,YAAa,sBACbC,qBAAsB,+BACtBC,UAAW,oBACXC,iBAAkB,2BAClBC,+BAAgC,yCAChCC,WAAY,qBACZC,eAAgB,yBAChBC,kBAAmB,4BACnBC,OAAQ,iBACRC,WAAY,qBACZC,aAAc,uBACdC,uBAAwB,iCACxBC,uBAAwB,kCACxBC,kBAAmB,4BACnBC,sBAAuB,gCACvBC,yBAA0B,mCAC1BC,kBAAmB,4BACnBC,YAAa,sBACbC,iBAAkB,2BAClBC,aAAc,uBACdC,eAAgB,yBAChBC,WAAY,qBACZC,YAAa,sBACbC,SAAU,mBACVC,iBAAkB,2BAClBC,mBAAoB,6BACpBC,YAAa,sBACbC,iBAAkB,2BAClBC,kBAAmB,4BACnBC,oBAAqB,8BACrBC,eAAgB,yBAChBC,oBAAqB,8BACrBC,eAAgB,yBAChBC,mBAAoB,6BACpBC,cAAe,wBACfC,UAAW,oBACXC,UAAW,oBACXC,eAAgB,yBAChBC,kBAAmB,4BACnBC,SAAU,mBACVC,mBAAoB,6BACpBC,aAAc,uBACdC,aAAc,uBACdC,gBAAiB,0BACjBC,QAAS,kBACTC,QAAS,kBACTC,sBAAuB,gCACvBC,kBAAmB,4BACnBC,kBAAmB,4BACnBC,oBAAqB,8BACrBC,sBAAuB,gCACvBC,kBAAmB,4BACnBC,YAAa,sBACbC,YAAa,sBACbC,kBAAmB,4BACnBC,gBAAiB,0BACjBC,aAAc,wBCtVAC,EAfK,SAACC,GACpB,OACCC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAeC,MAAOL,EAAMK,OAC3CJ,EAAAC,EAAAC,cAAA,OACCG,IAAK3W,EAAUqW,EAAMO,MAClB5W,EAAUqW,EAAMO,MAChB,sBACHC,IAAKR,EAAMO,KACXH,UAAU,SAEXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAaJ,EAAMS,YCqBvBC,cA/Bd,SAAAA,EAAYV,GAAO,IAAAW,EAAA,OAAA9X,OAAA+X,EAAA,EAAA/X,CAAAgY,KAAAH,IAClBC,EAAA9X,OAAAiY,EAAA,EAAAjY,CAAAgY,KAAAhY,OAAAkY,EAAA,EAAAlY,CAAA6X,GAAAM,KAAAH,KAAMb,KACDzX,MAAQ,CAAE6X,UAAW,WAFRO,yEAQlBE,KAAKI,SAAS,SAAAC,GACb,MAAO,CAAEd,UAAkC,YAAvBc,EAASd,UAC3B,mBACA,8CAKH,OACCH,EAAAC,EAAAC,cAAA,QACCC,UAAWS,KAAKtY,MAAM6X,WAGrBS,KAAKb,MAAMmB,UACZlB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,iBACdS,KAAKb,MAAMoB,mBAxBKC,IAAMC,eCEbC,EAAA,CACdC,KAAM,SAAAxB,GACL,MAAI,QAAQyB,KAAKzB,EAAM0B,MACfzB,EAAAC,EAAAC,cAACwB,EAAD,CACNpB,KAAMP,EAAM0B,KACZrB,MAAOL,EAAMK,MACbI,SAAUT,EAAMS,WAEP,QAAQgB,KAAKzB,EAAM0B,MACtBzB,EAAAC,EAAAC,cAACyB,EAAD,CACNT,UAAWnB,EAAMS,SACjBW,UAAWpB,EAAMK,QAER,gBAAgBoB,KAAKzB,EAAM0B,MAC9BzB,EAAAC,EAAAC,cAAA,KACNuB,KAAM,sBAAsB1B,EAAM0B,KAClCrB,MAAOL,EAAMK,MACbwB,OAAO,SACPzB,UAAU,UACV0B,IAAI,uBACH9B,EAAMS,UAEDR,EAAAC,EAAAC,cAAA,KACNuB,KAAM1B,EAAM0B,KACZrB,MAAOL,EAAMK,MACbwB,OAAO,SACPzB,UAAU,UACV0B,IAAI,uBACH9B,EAAMS,6BCgHIsB,cAzId,SAAAA,EAAY/B,GAAO,IAAAW,EAAA,OAAA9X,OAAA+X,EAAA,EAAA/X,CAAAgY,KAAAkB,IAClBpB,EAAA9X,OAAAiY,EAAA,EAAAjY,CAAAgY,KAAAhY,OAAAkY,EAAA,EAAAlY,CAAAkZ,GAAAf,KAAAH,KAAMb,KACDzX,MAAQ,CACZyZ,WAAW,EACXC,KAAM,IAEPtB,EAAKuB,aAAevB,EAAKuB,aAAaC,KAAlBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IACpBA,EAAK0B,OAAS1B,EAAK0B,OAAOF,KAAZtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IACdA,EAAK2B,OAAS3B,EAAK2B,OAAOH,KAAZtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IARIA,4EAWN4B,GACZ1B,KAAKI,SAAS,CAACgB,KAAMM,EAAEV,OAAOW,uCAGxBD,GAAG,IACLE,EADKC,EAAA7B,KAEqB,UAA1BA,KAAKb,MAAM2C,WACdF,EAAM,uCAC4B,SAA1B5B,KAAKb,MAAM2C,aACnBF,EAAM,6CAEP5B,KAAKI,SAAS,CAAEe,WAAW,GAAQ,WAClCY,IAAM,CACLC,OAAQ,OACRC,QAAS,CACRC,cAAe,UAAYL,EAAK1C,MAAM9X,YACtC8a,eAAgB,qCAEjBC,IAAKR,EACLS,KAAMC,IAAYC,OAAO,CACxBnB,KAAMS,EAAKna,MAAM0Z,KACjBoB,SAAU,OACVC,SAAUZ,EAAK1C,MAAMzY,QAEpBgc,KAAK,SAAAC,GACuB,SAA1Bd,EAAK1C,MAAM2C,YACdD,EAAK1C,MAAMyD,SAAS,CACnBlc,IAAKmb,EAAK1C,MAAMzY,IAChB+B,KAAMoZ,EAAKna,MAAM0Z,OAElBW,IAAM,CACLC,OAAQ,OACRI,IAAKS,6BACLR,KAAM,CACL3b,IAAKmb,EAAK1C,MAAMzY,IAChBC,GAAIkb,EAAK1C,MAAMxY,GACf8B,KAAMoZ,EAAKna,MAAM0Z,QAEhBsB,KAAK,SAAAC,GACkB,YAArBA,EAAIN,KAAKS,SACZjB,EAAK1C,MAAMyD,SAAS,CACnBlc,IAAKmb,EAAK1C,MAAMzY,IAChB+B,KAAMoZ,EAAKna,MAAM0Z,OAGnBS,EAAK1C,MAAM4D,aAAalB,EAAK1C,MAAM2C,eAGpCD,EAAK1C,MAAM4D,aAAalB,EAAK1C,MAAM2C,cAElCkB,MAAM,SAAAC,GACRC,QAAQC,IAAIF,GACZpB,EAAK1C,MAAM4D,aAAalB,EAAK1C,MAAM2C,gBAGrCJ,EAAE0B,gDAGI1B,GACN1B,KAAKb,MAAM4D,aAAa/C,KAAKb,MAAM2C,YACnCJ,EAAE0B,6DAI4B,SAA1BpD,KAAKb,MAAM2C,WACd9B,KAAKI,SAAS,CAAEgB,KAAMpB,KAAKb,MAAM1W,OACG,UAA1BuX,KAAKb,MAAM2C,YACjBuB,OAAOC,cACVtD,KAAKI,SAAS,CAAEgB,KAAMiC,OAAOC,eAC3BC,WACAC,QAAQ,QAAS,SAAAC,GAAC,MAAI,IAAIA,IAC1BD,QAAQ,QAAS,SAAAC,GAAC,MAAI,wCAO1B,OACCrE,EAAAC,EAAAC,cAAA,WACsB,KAApBU,KAAKtY,MAAM0Z,MACXhC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6CACdH,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,0BACHF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,YACfH,EAAAC,EAAAC,cAACoE,EAAArE,EAAD,CACCsE,OAAQ3D,KAAKtY,MAAM0Z,KACnBwC,gBAAiB,CAAC,iBAAkB,iBACpClD,UAAWA,MAMftB,EAAAC,EAAAC,cAAA,QAAMuE,SAAU7D,KAAKwB,QACpBpC,EAAAC,EAAAC,cAAA,YACCC,UAAU,aACVuE,KAAK,IACLC,KAAK,MACLC,SAAUhE,KAAKqB,aACfM,MAAO3B,KAAKtY,MAAM0Z,KAClB6C,SAAUjE,KAAKtY,MAAMyZ,YAGtB/B,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,UACCC,UAAU,cACVxX,KAAK,SACLkc,SAAUjE,KAAKtY,MAAMyZ,WAEpBnB,KAAKb,MAAM2C,YAEb1C,EAAAC,EAAAC,cAAA,UACCC,UAAU,cACV2E,QAASlE,KAAKyB,OACd1Z,KAAK,SACLkc,SAAUjE,KAAKtY,MAAMyZ,WAJtB,mBA5HgBX,IAAM2D,4BCErBC,EAAmB,SAACjF,GACzB,OACCC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,KACCuB,KAAM1B,EAAMvY,UACZ2Y,UAAU,WACV0B,IAAI,sBACJD,OAAO,UACP5B,EAAAC,EAAAC,cAAA,cACCH,EAAMkF,SAGRjF,EAAAC,EAAAC,cAAA,QACCC,UAAU,eACV+E,MAAO,CAACC,MAAO,SACf/E,MAAO,IAAIgF,KAAmB,IAAdrF,EAAMsF,UAEtBrF,EAAAC,EAAAC,cAACoF,EAAArF,EAAD,CACCsF,KAAoB,IAAdxF,EAAMsF,QACZjF,MAAO,YASRoF,EAAiB,SAACzF,GACvB,OACCC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAACoE,EAAArE,EAAD,CACCsE,OAAQxE,EAAM1W,KAAK+a,QAAQ,WAAY,OACvCI,gBAAiB,CAAC,iBAAkB,iBACpClD,UAAWA,KAGbtB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACdH,EAAAC,EAAAC,cAAA,KACCuB,KAAM1B,EAAMvY,UACZoa,OAAO,SACPC,IAAI,uBAEJ7B,EAAAC,EAAAC,cAAA,MACCC,UAAU,0BAEVH,EAAAC,EAAAC,cAAA,KACCC,UAAU,2BASXsF,cACL,SAAAA,EAAY1F,GAAO,IAAAW,EAAA,OAAA9X,OAAA+X,EAAA,EAAA/X,CAAAgY,KAAA6E,IAClB/E,EAAA9X,OAAAiY,EAAA,EAAAjY,CAAAgY,KAAAhY,OAAAkY,EAAA,EAAAlY,CAAA6c,GAAA1E,KAAAH,KAAMb,KACDzX,MAAQ,CACZoa,WAAY,UAEbhC,EAAKiD,aAAejD,EAAKiD,aAAazB,KAAlBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IACpBA,EAAKgF,WAAahF,EAAKgF,WAAWxD,KAAhBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IAClBA,EAAKiF,KAAOjF,EAAKiF,KAAKzD,KAAVtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IACZA,EAAKkF,KAAOlF,EAAKkF,KAAK1D,KAAVtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IACZA,EAAKmF,OAASnF,EAAKmF,OAAO3D,KAAZtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IATIA,4EAYN,IAAA+B,EAAA7B,KACZ+B,IAAM,CACLC,OAAQ,OACRI,IAAK,mCACLH,QAAS,CACRC,cAAe,UAAYlC,KAAKb,MAAM9X,YACtC8a,eAAgB,qCAEjBE,KAAMC,IAAYC,OAAO,CACxB5b,GAAIqZ,KAAKb,MAAMzY,QAEdgc,KAAK,SAAAC,GACPZ,IAAM,CACLC,OAAQ,OACRI,IAAKS,kCACLZ,QAAS,CACRE,eAAgB,qCAEjBE,KAAMC,IAAYC,OAAO,CACxB5b,GAAIkb,EAAK1C,MAAMxY,GACfD,IAAKmb,EAAK1C,MAAMzY,QAEfgc,KAAK,SAAAC,GACkB,YAArBA,EAAIN,KAAKS,SACZjB,EAAK1C,MAAM+F,eAAerD,EAAK1C,MAAMzY,wCAMlC,IAAAye,EAAAnF,KACN+B,IAAM,CACLC,OAAQ,OACRI,IAAMpC,KAAKb,MAAMiG,QAChB,sCACA,oCACDnD,QAAS,CACRC,cAAe,UACdlC,KAAKb,MAAM9X,YACZ8a,eAAgB,qCAEjBE,KAAMC,IAAYC,OAAO,CACxB5b,GAAIqZ,KAAKb,MAAMzY,QAEdgc,KAAK,SAAAC,GACPwC,EAAKhG,MAAM4F,wCAKZ/E,KAAKb,MAAM6F,wCAGH,IAAAK,EAAArF,KACR+B,IAAM,CACLC,OAAQ,OACRI,IAAK,oCACLH,QAAS,CACRC,cAAe,UAAYlC,KAAKb,MAAM9X,YACtC8a,eAAgB,qCAEjBE,KAAMC,IAAYC,OAAO,CACxB5b,GAAIqZ,KAAKb,MAAMzY,IACf4e,IAAMtF,KAAKb,MAAMtY,QAAU,EAAI,MAE9B6b,KAAK,SAAAC,GACP0C,EAAKlG,MAAM8F,WACTjC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,0CAGhBsC,GACZvF,KAAKI,SAAS,SAAA1Y,GACb,MAAO,CACNoa,WAAayD,IAAS7d,EAAMoa,WACvB,SACAyD,sCAKC,IAAAC,EAAAxF,KACR,OACCZ,EAAAC,EAAAC,cAAA,WACEU,KAAKb,MAAMsG,SACXrG,EAAAC,EAAAC,cAAA,KACCuB,KAAK,qBACLtB,UAAW,8BACTS,KAAKb,MAAMuG,UAAY,WAAa,IAEtCxB,QAAU,kBAAMsB,EAAKP,WAErB7F,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAIdS,KAAKb,MAAMsG,SACXrG,EAAAC,EAAAC,cAAA,KACCuB,KAAK,qBACLtB,UAAU,6BACV2E,QAAU,kBAAMsB,EAAKV,eAHtB,UASD1F,EAAAC,EAAAC,cAAA,KACCuB,KAAK,qBACLtB,UAAU,6BACV2E,QAAU,kBAAMsB,EAAKT,SAEpB/E,KAAKb,MAAMiG,QAAU,SAAW,QAGlChG,EAAAC,EAAAC,cAAA,KACCuB,KAAK,qBACLtB,UAAU,6BACV2E,QAAU,kBAAMsB,EAAKR,SAEpBhF,KAAKb,MAAMwG,SAAW,SAAW,QAGR,WAA1B3F,KAAKtY,MAAMoa,YACX1C,EAAAC,EAAAC,cAACsG,EAAD5d,OAAA6d,OAAA,CACC/D,WAAY9B,KAAKtY,MAAMoa,WACvBiB,aAAc/C,KAAK+C,aACnB+C,SAAU9F,KAAK8F,SACfhB,WAAY9E,KAAK8E,YACb9E,KAAKb,QAIVa,KAAKb,MAAMsG,SACXrG,EAAAC,EAAAC,cAAA,KACCuB,KAAK,qBACLtB,UAAU,6BACV2E,QAAU,kBAAMsB,EAAKzC,aAAa,UAHnC,QASD3D,EAAAC,EAAAC,cAAA,KACCuB,KAAK,qBACLtB,UAAU,6BACV2E,QAAU,kBAAMsB,EAAKzC,aAAa,WAHnC,iBA1J4BvC,IAAM2D,WCtBvB4B,EAtCC,SAAC5G,GAChB,IAAIS,EAAWT,EAAMS,SAASrX,IAAI,SAAAD,GACjC,OAAO8W,EAAAC,EAAAC,cAAC0G,EAAD,CACNtf,IAAK4B,EAAQ5B,IACbuf,IAAK3d,EAAQ3B,GACb0d,OAAQ/b,EAAQ+b,OAChB5b,KAAMH,EAAQG,KACd7B,UAAW0B,EAAQ1B,UACnB6d,QAASnc,EAAQmc,QACjBlF,UAAU,YAIZ,OACCJ,EAAMwG,UACNvG,EAAAC,EAAAC,cAAA,MACCC,UACCJ,EAAMI,UAAY,4BACjBJ,EAAMsG,QAAU,YAAc,IAEhC9e,GAAIwY,EAAMzY,KAGV0Y,EAAAC,EAAAC,cAAC4G,EAAqB/G,GACtBC,EAAAC,EAAAC,cAAC6G,EAAmBhH,GACnBA,EAAM7X,WAAa8X,EAAAC,EAAAC,cAAC8G,EAAsBjH,GAAY,KAEvDC,EAAAC,EAAAC,cAAA,MACCC,UAAU,6BACV5Y,GAAIwY,EAAMzY,IAAI,YAEbkZ,KCNQyG,EAAgB,SAAAC,GAAG,MAAK,CACpCve,KRjC8B,kBQkC9BK,QAASke,IAiBGC,EAAiB,SAAAC,GAAK,MAAK,CACvCze,KRjD+B,mBQkD/BK,QAAS,CACRf,YAAamf,KAqCFC,EAAU,SAAAC,GAAI,MAAK,CAC/B3e,KRpFuB,WQqFvBK,QAASse,IAcGzB,EAAS,SAAAve,GAAG,MAAK,CAC7BqB,KRlGqB,SQmGrBK,QAAS1B,IC7EKigB,cArBS,SAACjf,EAAOkf,GAAR,MAAsB,CAC7CjB,SAAUje,EAAMD,KAAKP,OAAOsB,SAASoe,EAASlgB,KAC9C0e,QAAS1d,EAAMD,KAAKN,MAAMqB,SAASoe,EAASlgB,KAC5Cgf,UAAWhe,EAAMD,KAAKZ,QAAQ2B,SAASoe,EAASlgB,KAChD+e,QAAS/d,EAAMkB,OAAOrB,aAAeqf,EAASvC,OAC9CzE,SAAUlY,EAAMD,KAAKlB,QACnB8B,OAAO,SAAAC,GAAO,OAAIA,EAAQue,WAAaD,EAASlgB,MAClDY,WAAYI,EAAMkB,OAAOtB,WACzBC,WAAYG,EAAMkB,OAAOrB,WACzBF,YAAaK,EAAMkB,OAAOvB,cAGA,SAACyf,EAAUF,GAAX,MAAyB,CACnDP,cAAe,SAAAC,GAAG,OAAIQ,EAAST,EAAcC,KAC7C1D,SAAU,SAAAta,GAAO,OAAIwe,ED+CE,SAAAxe,GAAO,MAAK,CACnCP,KRpEwB,YQqExBK,QAAQJ,OAAAC,EAAA,EAAAD,CAAA,GACJM,IClD0Bsa,CAASta,KACvC4c,eAAgB,kBAAM4B,EDyDmB,CACzC/e,KR9E+B,mBQ+E/BK,QC3D8Cwe,EAASlgB,ID2DtCA,OC1DjBue,OAAQ,eAACve,EAADiB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAOif,EAASlgB,IAAhB,OAAwBogB,EAAS7B,EAAOve,KAChDse,KAAM,kBAAM8B,EDuFe,CAC3B/e,KRzGmB,OQ0GnBK,QCzF0Bwe,EAASlgB,OACnCqe,KAAM,kBAAM+B,ED8Fe,CAC3B/e,KRrHmB,OQsHnBK,QChG0Bwe,EAASlgB,SAGrBigB,CAGbZ,GCQagB,EAxCF,SAAC5H,GACb,IAAI6H,EAAW7H,EAAM6H,UAAY7H,EAAM6H,SACrCze,IAAI,SAAAD,GACJ,OACC8W,EAAAC,EAAAC,cAAA,OAAKgF,MAAO,CAAE2C,UAAW,OAAQhB,IAAK3d,EAAQ3B,IAC7CyY,EAAAC,EAAAC,cAAC0G,EAAD,CACCtf,IAAK4B,EAAQ5B,IACbuf,IAAK3d,EAAQ3B,GACbA,GAAI2B,EAAQ3B,GACZ0d,OAAQ/b,EAAQ+b,OAChB5b,KAAMH,EAAQG,KACd7B,UAAW0B,EAAQ1B,UACnB6d,QAASnc,EAAQmc,QACjBlF,UAAU,cAMf,OACCH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa5Y,GAAG,QAC5BwY,EAAM+H,UACN9H,EAAAC,EAAAC,cAAA,uBACA0H,GAAYA,EAASpf,QAAU,EAC9Bof,EACA5H,EAAAC,EAAAC,cAAA,mCAGHF,EAAAC,EAAAC,cAAA,KACCC,UAAU,eACVsB,KAAK,qBACLqD,QAAS/E,EAAMgI,UAHhB,wBCrBGC,cACL,SAAAA,EAAYjI,GAAO,IAAAW,EAAA,OAAA9X,OAAA+X,EAAA,EAAA/X,CAAAgY,KAAAoH,IAClBtH,EAAA9X,OAAAiY,EAAA,EAAAjY,CAAAgY,KAAAhY,OAAAkY,EAAA,EAAAlY,CAAAof,GAAAjH,KAAAH,KAAMb,KACDzX,MAAQ,CACZ2f,WAAY,EACZH,WAAW,EACXpF,WAAY,UAEbhC,EAAKwH,WAAaxH,EAAKwH,WAAWhG,KAAhBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IAClBA,EAAKyH,mBAAqBzH,EAAKyH,mBAAmBjG,KAAxBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IAC1BA,EAAKiD,aAAejD,EAAKiD,aAAazB,KAAlBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IACpBA,EAAKqH,SAAWrH,EAAKqH,SAAS7F,KAAdtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IAVEA,4EAaN,IAAA+B,EAAA7B,KACZ+B,IAAMyF,IACL3E,mDACA7C,KAAKb,MAAM5Y,QAAQ,GAAGG,IACtB,CAAE+gB,aAAa,IACd/E,KAAK,SAAAC,GAEFA,EAAIN,KAAKS,SACZ4E,MAAMC,QAAQhF,EAAIN,KAAKS,UACvBH,EAAIN,KAAKS,QAAQlb,OAAS,GAC1Bia,EAAK1C,MAAMkH,cAAc1D,EAAIN,KAAKS,SAClCjB,EAAKzB,SAAS,CAAEiH,WAAY,KAE5BxF,EAAKzB,SAAS,SAAA1Y,GACb,OAAOM,OAAAC,EAAA,EAAAD,CAAA,GAAKN,EAAZ,CAAmB2f,WAAY3f,EAAM2f,WAAW,qDAM/B,IAAAlC,EAAAnF,KACpB4H,WAAY,WACXzC,EAAKmC,aACLnC,EAAKoC,sBAELvH,KAAKtY,MAAM2f,WAAa,GACC,IAAxBrH,KAAKtY,MAAM2f,WACX,yCAGQ,IAAAhC,EAAArF,KACV+B,IAAMyF,IACL3E,mDACA7C,KAAKb,MAAM5Y,QAAQyZ,KAAKb,MAAM5Y,QAAQqB,OAAO,GAAGlB,IAChD,CAAE+gB,aAAa,IACd/E,KAAK,SAAAC,GACFA,EAAIN,KAAKS,SACZ4E,MAAMC,QAAQhF,EAAIN,KAAKS,UACvBH,EAAIN,KAAKS,QAAQlb,OAAS,IAC1Byd,EAAKlG,MAAM0I,aAAalF,EAAIN,KAAKS,SACjCuC,EAAKjF,SAAS,CAAEiH,WAAY,4CAKlB9B,GACZvF,KAAKI,SAAS,SAAA1Y,GACb,MAAO,CACNoa,WAAYyD,IAAS7d,EAAMoa,WAAa,SAAWyD,iDAKlC,IAAAC,EAAAxF,KACnBA,KAAKI,SAAS,CAAE8G,WAAW,GAAQ,WAClCnF,IAAMyF,IACL3E,wCACA,CAAE4E,aAAa,IACd/E,KAAK,SAAAC,GACN6C,EAAKpF,SAAS,CAAE8G,WAAW,GAAS,WACnC1B,EAAKrG,MAAMkH,cAAc1D,EAAIN,KAAKS,SAClC0C,EAAK+B,yBAEJvE,MAAO,WACTwC,EAAKpF,SAAS,CAAE8G,WAAW,yCAKrB,IAAAY,EAAA9H,KACR,OACCZ,EAAAC,EAAAC,cAAA,OAAKgF,MAAO,CAACyD,QAAS,QAEO,WAA1B/H,KAAKtY,MAAMoa,YAA2B1C,EAAAC,EAAAC,cAACsG,EAAD,CACvC9D,WAAY9B,KAAKtY,MAAMoa,WACvBiB,aAAc/C,KAAK+C,aACnBpc,GAAIqZ,KAAKb,MAAM3Y,OAAOE,MAGvB0Y,EAAAC,EAAAC,cAAC0I,EAAD,CACCd,UAAWlH,KAAKtY,MAAMwf,UACtBC,SAAUnH,KAAKmH,SACfH,SAAUhH,KAAKb,MAAM5Y,SAAWyZ,KAAKb,MAAM5Y,QACzC8B,OAAO,SAAAC,GAAO,OAAKwf,EAAK3I,MAAMjY,OAAOsB,SAASF,EAAQ5B,OACtD2B,OAAO,SAAAC,GAAO,MAAI,UAAUsY,KAAKtY,EAAQue,YAE3C5B,OAAQjF,KAAKb,MAAM8F,iBApGIzE,IAAM2D,WAqHnBwC,cAVS,SAACjf,EAAOkf,GAAR,MAAsB,CAC7CrgB,QAASmB,EAAMD,KAAKlB,QACpBW,OAAQQ,EAAMD,KAAKP,SAGO,SAAC4f,EAAUF,GAAX,MAAyB,CACnDiB,aAAc,SAAAvB,GAAG,OAAIQ,EHvGM,SAAAR,GAAG,MAAK,CACnCve,KRrB6B,iBQsB7BK,QAASke,GGqGqBuB,CAAavB,KAC3CD,cAAe,SAAAC,GAAG,OAAIQ,EAAST,EAAcC,OAG/BK,CAGbS,YCaaa,cA1Id,SAAAA,EAAY9I,GAAO,IAAAW,EAAA,OAAA9X,OAAA+X,EAAA,EAAA/X,CAAAgY,KAAAiI,IAClBnI,EAAA9X,OAAAiY,EAAA,EAAAjY,CAAAgY,KAAAhY,OAAAkY,EAAA,EAAAlY,CAAAigB,GAAA9H,KAAAH,KAAMb,KACDzX,MAAQ,CAAEoa,WAAY,UAC3BhC,EAAKiD,aAAejD,EAAKiD,aAAazB,KAAlBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IACpBA,EAAKoI,aAAepI,EAAKoI,aAAa5G,KAAlBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IACpBA,EAAKqI,uBAAyBrI,EAAKqI,uBAAuB7G,KAA5BtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IAC9BA,EAAKsI,kBAAoBtI,EAAKsI,kBAAkB9G,KAAvBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IANPA,4EASNyF,GACZvF,KAAKI,SAAS,SAAA1Y,GAAK,MAAK,CAAEoa,WAAayD,IAAS7d,EAAMoa,WAC1C,SAAWyD,4CAGT,IAAA1D,EAAA7B,KACd+B,IAAMyF,IAAI3E,uCACT,CAAE4E,aAAa,IACd/E,KAAK,SAAAC,GACNd,EAAK1C,MAAM+I,aAAavF,EAAIN,KAAKS,QAAQ,kDAIvB,IAAAqC,EAAAnF,KACnB+B,IAAMyF,IACL3E,qDACA7C,KAAKb,MAAM/X,aACX,CAAEqgB,aAAa,IACd/E,KAAK,SAAAC,GACN,GAAIA,EAAIN,KAAKS,QAAQuF,aAAc,CAClC,IAAIhhB,EAAcsb,EAAIN,KAAKS,QAAQuF,aACnClD,EAAKhG,MAAMoH,eAAelf,GAErB8d,EAAKhG,MAAM5X,YACfwa,IAAM,CACLC,OAAQ,MACRI,IAAK,qCACLH,QAAS,CACRC,cAAe,UAAY7a,KAE1Bqb,KAAK,SAAAC,GACPwC,EAAKhG,MAAMsH,QAAQ9D,EAAIN,KAAKiG,4DAOR,IAAAjD,EAAArF,KACxB4H,WAAY,WACXvC,EAAK+C,oBACL/C,EAAK8C,0BACH,kDAIHnI,KAAKkI,eACDlI,KAAKb,MAAM/X,eACd4Y,KAAKoI,oBACLpI,KAAKmI,2DAIE,IAAA3C,EAAAxF,KAEPuI,EAAWC,mBAAmB3F,4CAE9B4F,EAAS,CACR,2BACA,qBACA,SAAW3hB,aAAaC,QAAQ,UAChC,gBAAkBwhB,EAClB,qBACA,SAPO,CAAC,OAAQ,OAAQ,OAAQ,SAAU,OAAQ,YAOjCG,KAAK,MACrBA,KAAK,KAER,OACCtJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACdH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,aAC1BF,EAAAC,EAAAC,cAACqJ,EAAA,EAAD,CAAMC,GAAG,SAASrJ,UAAU,4BAA5B,WAKDH,EAAAC,EAAAC,cAAA,MACCC,UAAU,cACV5Y,GAAG,SAFJ,4BAGAyY,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAA,KAC3B3Y,GAAG,SACH4Y,UAAU,eACVsB,KACCb,KAAKb,MAAM3Y,OAAOI,UAClBoZ,KAAKb,MAAM3Y,OAAOI,UAClB,6BAEDqa,IAAI,sBACJD,OAAO,UAToB,kBAY5B5B,EAAAC,EAAAC,cAAA,MAAI3Y,GAAG,eAAe4Y,UAAU,cAC9BS,KAAKb,MAAM/X,eACX4Y,KAAKb,MAAM5X,WACT6X,EAAAC,EAAAC,cAAA,6BACaU,KAAKb,MAAM5X,WADxB,KACqC6X,EAAAC,EAAAC,cAAA,KACrCuB,KAAK,qBACLqD,QAASlE,KAAKb,MAAM0J,QAFiB,UADrC,KAKAzJ,EAAAC,EAAAC,cAAA,uCAIJF,EAAAC,EAAAC,cAAA,MAAI3Y,GAAG,WAENqZ,KAAKb,MAAM7X,WACV8X,EAAAC,EAAAC,cAAA,KACAuB,KAAK,qBACLtB,UAAU,gBACV2E,QAAS,kBAAMsB,EAAKzC,aAAa,WAHjC,mBAKA3D,EAAAC,EAAAC,cAAA,KACA3Y,GAAG,sBACHka,KAzDU,uCAyDI4H,GACdrJ,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAHb,UAMyB,WAA1BS,KAAKtY,MAAMoa,YACX1C,EAAAC,EAAAC,cAACsG,EAAD,CACC9D,WAAY9B,KAAKtY,MAAMoa,WACvBiB,aAAc/C,KAAK+C,aACnBrc,IAAKsZ,KAAKb,MAAM3Y,OAAOE,IACvBW,YAAa2Y,KAAKb,MAAM9X,YACxB4d,OAAQjF,KAAKb,MAAM8F,iBAnIHzE,IAAM2D,WCqBbwC,cAhBS,SAACjf,GAAD,MAAY,CACnCN,aAAcM,EAAMkB,OAAOxB,aAC3BC,YAAaK,EAAMkB,OAAOvB,YAC1BC,WAAYI,EAAMkB,OAAOtB,WACzBC,WAAYG,EAAMkB,OAAOrB,WACzBf,OAAQkB,EAAMD,KAAKjB,SAGO,SAACsgB,EAAUF,GAAX,MAAyB,CACnDH,QAAS,SAAAC,GAAI,OAAII,EAASL,EAAQC,KAClCH,eAAgB,SAAAC,GAAK,OAAIM,EAASP,EAAeC,KACjD0B,aAAc,SAAA1hB,GAAM,OAAIsgB,ELoBG,SAAAtgB,GAAM,MAAK,CACtCuB,KRxC4B,gBQyC5BK,QAAQJ,OAAAC,EAAA,EAAAD,CAAA,GACJxB,IKvB6B0hB,CAAa1hB,KAC9CqiB,OAAQ,kBAAM/B,EL6Ec,CAC5B/e,KR3FqB,SQ4FrBK,QAAS,QK9ET6c,OAAQ,SAAAve,GAAG,OAAIogB,EAAS7B,EAAOve,OAGjBigB,CAGbsB,GCgBaa,cAvCd,SAAAA,EAAY3J,GAAO,IAAAW,EAAA,OAAA9X,OAAA+X,EAAA,EAAA/X,CAAAgY,KAAA8I,IAClBhJ,EAAA9X,OAAAiY,EAAA,EAAAjY,CAAAgY,KAAAhY,OAAAkY,EAAA,EAAAlY,CAAA8gB,GAAA3I,KAAAH,KAAMb,KACDzX,MAAQ,CAAEqhB,GAAI,cAFDjJ,mFAKC,IAAA+B,EAAA7B,KACnB+B,IAAMyF,IACL3E,wLAAYmG,aAAa,mBACzB,CAAEC,aAAa,IACdvG,KAAK,SAAAC,GACNd,EAAKzB,SAAS,CAAE2I,GAAIpG,EAAIN,0CAKzB,OACCjD,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,MACCC,UAAU,cACVH,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAACqJ,EAAA,EAAD,CAAMC,GAAG,QAAQrJ,UAAU,eAA3B,UAGDH,EAAAC,EAAAC,cAAA,MACCC,UAAU,cACVH,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAACqJ,EAAA,EAAD,CAAMC,GAAG,aAAarJ,UAAU,eAAhC,eAGDH,EAAAC,EAAAC,cAAA,MACCC,UAAU,cACV5Y,GAAG,SAFJ,SAGAyY,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACoE,EAAArE,EAAD,CAAesE,OAAQ3D,KAAKtY,MAAMqhB,aAlClBvI,IAAM2D,WCwCX2E,cAvCd,SAAAA,EAAY3J,GAAO,IAAAW,EAAA,OAAA9X,OAAA+X,EAAA,EAAA/X,CAAAgY,KAAA8I,IAClBhJ,EAAA9X,OAAAiY,EAAA,EAAAjY,CAAAgY,KAAAhY,OAAAkY,EAAA,EAAAlY,CAAA8gB,GAAA3I,KAAAH,KAAMb,KACDzX,MAAQ,CAAEqhB,GAAI,cAFDjJ,mFAKC,IAAA+B,EAAA7B,KACnB+B,IAAMyF,IACLxH,KAAKb,MAAM+J,IAAI,uBACf,CAAED,aAAa,IACdvG,KAAK,SAAAC,GACNd,EAAKzB,SAAS,CAAE2I,GAAIpG,EAAIN,0CAKzB,OACCjD,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,MACCC,UAAU,cACVH,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAACqJ,EAAA,EAAD,CAAMC,GAAG,QAAQrJ,UAAU,eAA3B,UAGDH,EAAAC,EAAAC,cAAA,MACCC,UAAU,cACVH,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAACqJ,EAAA,EAAD,CAAMC,GAAG,SAASrJ,UAAU,eAA5B,WAGDH,EAAAC,EAAAC,cAAA,MACCC,UAAU,cACV5Y,GAAG,SAFJ,aAGAyY,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACoE,EAAArE,EAAD,CAAesE,OAAQ3D,KAAKtY,MAAMqhB,aAlClBvI,IAAM2D,WCYXgF,EAdM,WACpB,OACC/J,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,4BACAH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACbH,EAAAC,EAAAC,cAACqJ,EAAA,EAAD,CAAMC,GAAG,SACRxJ,EAAAC,EAAAC,cAAA,OAAKK,IAAI,GAAGF,IAAI,sCCAf2J,cACL,SAAAA,EAAYjK,GAAO,IAAAW,EAAA,OAAA9X,OAAA+X,EAAA,EAAA/X,CAAAgY,KAAAoJ,IAClBtJ,EAAA9X,OAAAiY,EAAA,EAAAjY,CAAAgY,KAAAhY,OAAAkY,EAAA,EAAAlY,CAAAohB,GAAAjJ,KAAAH,KAAMb,KACDzX,MAAQ,CACZ2hB,UAAU,EACVC,MAAO,MAJUxJ,mFAQC,IAAA+B,EAAA7B,KACfA,KAAKb,MAAMzX,OAASsY,KAAKb,MAAMO,KAClCqC,IAAMyF,IACL3E,4CAEC7C,KAAKb,MAAMO,KACX,CAAE+H,aAAa,IACf/E,KAAK,SAAAC,GACN,GAAIA,EAAIN,KAAKS,QAAQyG,cAAe,CACnC,IAAIC,EAAK7G,EAAIN,KAAKS,QAAQyG,cACtBE,EAAK9G,EAAIN,KAAKS,QAAQuF,aAC1BxG,EAAK1C,MAAMuK,gBAAgBF,GAC3B3H,EAAK1C,MAAMoH,eAAekD,GAC1B3iB,aAAa4B,QAAQ,eAAgB8gB,GACrCzH,IAAM,CACLC,OAAQ,MACRI,IAAK,qCACLH,QAAS,CACRC,cAAe,UAAYuH,KAE1B/G,KAAK,SAAAC,GACPd,EAAK1C,MAAMsH,QAAQ9D,EAAIN,KAAKiG,MAC5BzG,EAAKzB,SAAS,CAAEiJ,UAAU,WAG3BxH,EAAKzB,SAAS,CAAEkJ,MAAO,6BAIzBtJ,KAAKI,SAAS,CAAEkJ,MAAO,oDAKxB,OAAItJ,KAAKtY,MAAM2hB,SACPjK,EAAAC,EAAAC,cAACqK,EAAA,EAAD,CAAUf,GAAG,UAGnBxJ,EAAAC,EAAAC,cAAA,+BA/CgBkB,IAAM2D,WA2DXwC,cAAQ,KANI,SAAAG,GAAQ,MAAK,CACvC4C,gBAAiB,SAAAlD,GAAK,OAAIM,ETHI,SAAAN,GAAK,MAAK,CACxCze,KR1DgC,oBQ2DhCK,QAAS,CACRhB,aAAcof,ISAoBkD,CAAgBlD,KACnDD,eAAgB,SAAAC,GAAK,OAAIM,EAASP,EAAeC,KACjDC,QAAS,SAAAC,GAAI,OAAII,EAASL,EAAQC,OAGpBC,CAAkCyC,0CCqBlCQ,uBAxEd,SAAAA,IAAc,IAAA9J,EAAA,OAAA9X,OAAA+X,EAAA,EAAA/X,CAAAgY,KAAA4J,IACb9J,EAAA9X,OAAAiY,EAAA,EAAAjY,CAAAgY,KAAAhY,OAAAkY,EAAA,EAAAlY,CAAA4hB,GAAAzJ,KAAAH,QACK6J,eAAiB/J,EAAK+J,eAAevI,KAApBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IACtBA,EAAKgK,YAAchK,EAAKgK,YAAYxI,KAAjBtZ,OAAAuZ,EAAA,EAAAvZ,CAAA8X,IAHNA,2EAMF1Y,EAAcC,GACzBP,aAAa4B,QAAQ,eAAgBtB,GACrC2iB,eAAerhB,QAAQ,aAAcrB,4CAMrC,IAFA,IAAI2iB,EAAM,GACNC,EAAQ,iEACHC,EAAE,EAAGA,EAAE,GAAIA,IACnBF,GAAOC,EAAME,KAAKC,MAAMD,KAAKE,SAAWJ,EAAMriB,SAE/C,OAAOoiB,8CAK+B,MAAlCljB,aAAaC,QAAQ,WACxBD,aAAa4B,QAAQ,SAAUsX,KAAK6J,mDAI7B,IAAAhI,EAAA7B,KAEJyI,EAAS6B,SAASjH,OAAOkH,SAASC,OAAQ,CAACC,mBAAmB,IAClE,OACCrL,EAAAC,EAAAC,cAACoL,GAAA,EAAD,KAAQtL,EAAAC,EAAAC,cAAA,OAAK3Y,GAAG,WACfyY,EAAAC,EAAAC,cAACqL,GAAA,EAAD,KACCvL,EAAAC,EAAAC,cAACqK,EAAA,EAAD,CAAUiB,OAAK,EAACC,KAAK,IAAIjC,GAAG,UAC5BxJ,EAAAC,EAAAC,cAACwL,GAAA,EAAD,CACCF,OAAK,EAACG,KAAK,QACXC,OAAS,WACR,OAAO5L,EAAAC,EAAAC,cAAA,OAAK2L,MAAO,CAAClD,QAAS,QAC5B3I,EAAAC,EAAAC,cAAC4L,EAAD,MACA9L,EAAAC,EAAAC,cAAC6L,EAAD,UAIH/L,EAAAC,EAAAC,cAACwL,GAAA,EAAD,CACCF,OAAK,EAACG,KAAK,SACXC,OAAS,WACR,OAAO5L,EAAAC,EAAAC,cAAC8L,EAAD,CAAOlC,IAlBTrG,8BAqBPzD,EAAAC,EAAAC,cAACwL,GAAA,EAAD,CACCF,OAAK,EAACG,KAAK,aACXC,OAAS,WACR,OAAO5L,EAAAC,EAAAC,cAAC+L,EAAD,SAGTjM,EAAAC,EAAAC,cAACwL,GAAA,EAAD,CACCF,OAAK,EAACG,KAAK,sBACXC,OAAS,WACR,OAAO5L,EAAAC,EAAAC,cAACgM,EAAD,CACNxB,YAAajI,EAAKiI,YAClBpiB,MAAO+gB,EAAO/gB,MACdgY,KAAM+I,EAAO/I,UAIhBN,EAAAC,EAAAC,cAACwL,GAAA,EAAD,CAAOS,UAAWpC,cAlEL3I,IAAM2D,YCLJqH,QACW,cAA7BnI,OAAOkH,SAASkB,UAEe,UAA7BpI,OAAOkH,SAASkB,UAEhBpI,OAAOkH,SAASkB,SAASC,MACvB,2DCTN,IAAMC,GAAQC,YAAYC,EAAaxI,OAAOyI,8BAAgCzI,OAAOyI,gCAErFC,IAASf,OACR5L,EAAAC,EAAAC,cAAC0M,EAAA,EAAD,CAAUL,MAAOA,IAChBvM,EAAAC,EAAAC,cAAC2M,GAAD,OAEDC,SAASC,eAAe,SDkHnB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM5J,KAAK,SAAA6J,GACjCA,EAAaC","file":"static/js/main.e28aad42.chunk.js","sourcesContent":["import { PREPEND_TO_FEED, \n\t\tAPPEND_TO_FEED,\n\t\tEDIT_FEED,\n\t\tDELETE_FROM_FEED,\n\t\tUPVOTE,\n\t\tHIDE,\n\t\tSAVE,\n\t\tUPDATE_THREAD } from '../actionTypes';\n\nconst initialState = {\n\thistory: [],\n\tthread: {\n\t\tkind: 'not_loaded',\n\t\t_id: '',\n\t\tid: '',\n\t\tpermalink: 'https://reddit.com/r/anime'\n\t},\n\tupvoted: localStorage.getItem('upvoted')\n\t\t? JSON.parse(localStorage.getItem('upvoted'))\n\t\t: [],\n\thidden: localStorage.getItem('hidden')\n\t\t? JSON.parse(localStorage.getItem('hidden'))\n\t\t: [],\n\tsaved: localStorage.getItem('saved')\n\t\t? JSON.parse(localStorage.getItem('saved'))\n\t\t: []\n};\n\nexport default (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase APPEND_TO_FEED: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thistory: [\n\t\t\t\t\t...state.history,\n\t\t\t\t\t...action.payload.filter(comment => {\n\t\t\t\t\t\treturn !(state.history\n\t\t\t\t\t\t\t.map(comment => comment._id)\n\t\t\t\t\t\t\t.includes(comment._id)\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\n\t\tcase PREPEND_TO_FEED: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thistory: [\n\t\t\t\t\t...action.payload.filter(comment => {\n\t\t\t\t\t\treturn !(state.history\n\t\t\t\t\t\t\t.map(comment => comment._id)\n\t\t\t\t\t\t\t.includes(comment._id)\n\t\t\t\t\t\t);\n\t\t\t\t\t}),\n\t\t\t\t\t...state.history\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\n\t\tcase EDIT_FEED: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thistory: state.history\n\t\t\t\t\t.map(comment => {\n\t\t\t\t\t\tif (comment._id === action.payload._id) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...comment,\n\t\t\t\t\t\t\t\tbody: action.payload.body\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn comment;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t};\n\t\t}\n\n\t\tcase DELETE_FROM_FEED: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thistory: state.history\n\t\t\t\t\t.filter(comment => comment._id !== action.payload)\n\t\t\t};\n\t\t}\n\n\t\tcase UPDATE_THREAD: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tthread: action.payload\n\t\t\t};\n\t\t}\n\n\t\tcase UPVOTE: {\n\t\t\tlocalStorage.setItem('upvoted', JSON.stringify(\n\t\t\t\tstate.upvoted.includes(action.payload) ?\n\t\t\t\t\tstate.upvoted.filter(_id => _id !== action.payload) :\n\t\t\t\t\t[...state.upvoted, action.payload]\n\t\t\t));\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tupvoted: state.upvoted.includes(action.payload) ?\n\t\t\t\t\tstate.upvoted.filter(_id => _id !== action.payload) :\n\t\t\t\t\t[...state.upvoted, action.payload]\n\t\t\t};\n\t\t}\n\n\t\tcase HIDE: {\n\t\t\tlocalStorage.setItem('hidden', JSON.stringify(\n\t\t\t\tstate.hidden.includes(action.payload) ?\n\t\t\t\t\tstate.hidden.filter(_id => _id !== action.payload) :\n\t\t\t\t\t[...state.hidden, action.payload]\n\t\t\t));\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thidden: state.hidden.includes(action.payload) ?\n\t\t\t\t\tstate.hidden.filter(_id => _id !== action.payload) :\n\t\t\t\t\t[...state.hidden, action.payload]\n\t\t\t};\n\t\t}\n\n\t\tcase SAVE: {\n\t\t\tlocalStorage.setItem('saved', JSON.stringify(\n\t\t\t\tstate.saved.includes(action.payload) ?\n\t\t\t\t\tstate.saved.filter(_id => _id !== action.payload) :\n\t\t\t\t\t[...state.saved, action.payload]\n\t\t\t));\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaved: state.saved.includes(action.payload) ?\n\t\t\t\t\tstate.saved.filter(_id => _id !== action.payload) :\n\t\t\t\t\t[...state.saved, action.payload]\n\t\t\t}\n\t\t}\n\t\t\n\t\tdefault: return state;\n\t}\n}\n","import { SET_ACCESS_TOKEN,\n\t\tSET_REFRESH_TOKEN,\n\t\tSET_USER,\n\t\tLOGOUT } from '../actionTypes';\n\nconst initialState = {\n\trefreshToken: localStorage.getItem('refreshToken')\n\t\t? localStorage.getItem('refreshToken')\n\t\t: '',\n\taccessToken: '',\n\tisLoggedIn: !!(localStorage.getItem('refreshToken')),\n\tloggedInAs: ''\n}\n\nexport default (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase SET_ACCESS_TOKEN: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccessToken: action.payload.accessToken\n\t\t\t};\n\t\t}\n\n\t\tcase SET_REFRESH_TOKEN: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trefreshToken: action.payload.refreshToken\n\t\t\t};\n\t\t}\n\n\t\tcase SET_USER: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoggedIn: true,\n\t\t\t\tloggedInAs: action.payload\n\t\t\t};\n\t\t}\n\n\t\tcase LOGOUT: {\n\t\t\tlocalStorage.removeItem('refreshToken');\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccessToken: '',\n\t\t\t\trefreshToken: '',\n\t\t\t\tisLoggedIn: false,\n\t\t\t\tloggedInAs: ''\n\t\t\t};\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}\n","import { combineReducers } from 'redux';\nimport feed from './feed';\nimport reddit from './reddit';\n\nexport default combineReducers({ feed, reddit });\n","export const PREPEND_TO_FEED = 'PREPEND_TO_FEED';\nexport const APPEND_TO_FEED = 'APPEND_TO_FEED';\nexport const UPDATE_THREAD = 'UPDATE_THREAD';\nexport const SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN';\nexport const SET_REFRESH_TOKEN = 'SET_REFRESH_TOKEN';\nexport const EDIT_FEED = 'EDIT_FEED';\nexport const DELETE_FROM_FEED = 'DELETE_FROM_FEED';\nexport const SAVE = 'SAVE';\nexport const SET_USER = 'SET_USER';\nexport const LOGOUT = 'LOGOUT';\nexport const UPVOTE = 'UPVOTE';\nexport const HIDE = 'HIDE';\n","const facecodes = {\n\t\"#example-face-code\": \"/faces/example-path.jpg\",\n\n\t\"#breakingnews\": \"/faces/newspapersmack.gif\",\n\t\"#brofist\": \"/faces/takeobrofist.gif\",\n\t\"#cokemasterrace\": \"/faces/yuibrospit.gif\",\n\t\"#curious\": \"/faces/curious.gif\",\n\t\"#evilgrin\": \"/faces/evilgrin.gif\",\n\t\"#fedup\": \"/faces/FdF0u5n.gif\",\n\t\"#flattered\": \"/faces/eririrblush.gif\",\n\t\"#flyingbunsofdoom\": \"/faces/akarisurprise.gif\",\n\t\"#forgotkeys\": \"/faces/gintamaoutlines.gif\",\n\t\"#garlock\": \"/faces/nanamiwink.gif\",\n\t\"#giveuponlife\": \"/faces/giveuponlife.gif\",\n\t\"#helmetbro\": \"/faces/gundamthumbsup.gif\",\n\t\"#idoruwinkdesu\": \"/faces/shinomiyawink.gif\",\n\t\"#justno\": \"/faces/yokosquint.gif\",\n\t\"#missedthepoint\": \"/faces/febrietroll.gif\",\n\t\"#hajimepout\": null,\n\t\"#nuidideverythingright\": \"/faces/nuitongue.gif\",\n\t\"#rerorero\": \"/faces/rerorero.gif\",\n\t\"#scrumptiouslymoe\": \"/faces/soranodeliciousness.gif\",\n\t\"#slapbet\": \"/faces/akarislap.gif\",\n\t\"#watchadoin\": \"/faces/hyoukawatchadoin.gif\",\n\t\"#torrentialdownpour\": \"/faces/makotears.gif\",\n\t\"#slightoverreaction\": \"/faces/tooexcited.gif\",\n\t\"#prelenny\": \"/faces/licklips.gif\",\n\t\"#volibearQ\": \"/faces/volibearq.gif\",\n\t\"#mywaifumadeyouasandwich\": \"/faces/asunasandwich.gif\",\n\t\"#urbansmile\": null,\n\t\"#anko\": null,\n\t\"#hyoukawink\": null,\n\t\"#yousaidsomethingdumb\": null,\n\t\"#banjo\": null,\n\t\"#peasants\": null,\n\t\"#excitedyui\": null,\n\t\"#dancewithit\": \"/faces/dealwithitkumin.gif\",\n\n\t\"#budgetsmile\": \"/faces/budget smile.gif\",\n\t\"#elsiesigh\": \"/faces/sigh.gif\",\n\t\"#hnng\": null,\n\t\"#shittaste\": \"/faces/shittaste.gif\",\n\t\"#taigasigh\": \"/faces/tumblr_nh5nk8bcym1sjaaeco1_500.gif\",\n\t\"#woo\": \"/faces/woo.gif\",\n\t\"#yuitears\": \"/faces/yui tears.gif\",\n\t\"#kurisudisappointed\": \"/faces/Kurisu disappointed.gif\",\n\t\"#kobeniblush\": \"/faces/kobeniblush.gif\",\n\t\"#moeshitarcher\": \"/faces/moeshitarcher.gif\",\n\t\"#kinirohug\": \"/faces/kiniro mosaic hug.gif\",\n\t\"#panic\": \"/faces/Mikakunin Panic.gif\",\n\t\"#frustration\": \"/faces/Nichijou Frustration.gif\",\n\t\"#laughter\": \"/faces/Nichijou Laughter.gif\",\n\t\"#oilup\": \"/faces/oilup.gif\",\n\t\"#popcorn\": \"/faces/Nichijou Popcorn.gif\",\n\t\"#imdone\": \"/faces/im done.gif\",\n\t\"#unsure\": \"/faces/Onodera Unsure.gif\",\n\t\"#wallbang\": \"/faces/Sakura Trick Wallbang.gif\",\n\t\"#fistbump\": \"/faces/fist bump + return.gif\",\n\t\"#grouphug\": \"/faces/Group Hug.gif\",\n\t\"#hahahawhat\": \"/faces/hahaha wat nichijou.gif\",\n\t\"#nosebleed\": \"/faces/Charlotte Ayumi nosebleed.gif\",\n\t\"#elsienopesout\": \"/faces/elsienopesout.gif\",\n\t\"#feelsgoodman\": \"/faces/feels so good.gif\",\n\t\"#shutupandtakemymoney\": \"/faces/CarnivalPhantasm Shutupandtakemymoney.gif\",\n\t\"#combo\": \"/faces/9 hit combo.gif\",\n\t\"#abandonthread\": \"/faces/Abandon Thread.gif\",\n\t\"#shirouthumbsup\": \"/faces/Carnival Phantasm Shirou thumbs up.gif\",\n\t\"#kayosmile\": \"/faces/kayo smiling.gif\",\n\t\"#mandom\": \"/faces/barakamon manly thoughts.gif\",\n\t\"#megumin\": null,\n\t\"#niconicono\": \"/faces/nico nico nope.gif\",\n\t\n\t\"#akkotears\": \"/faces/akkotears.gif\",\n\t\"#aliens\": \"/faces/aliens.gif\",\n\t\"#angrypout\": \"/faces/angrypout.gif\",\n\t\"#blankblink\": \"/faces/blankblink.gif\",\n\t\"#criticism\": \"/faces/burnit.gif\",\n\t\"#emptyinside\": null,\n\t\"#comfortfood\": \"/faces/comfortfood.gif\",\n\t\"#trynottocry\": \"/faces/trynottocry.gif\",\n\t\"#dekuhype\": \"/faces/dekuhype.gif\",\n\t\"#emiliaohdear\": \"/faces/emiliaohdear.gif\",\n\t\"#hugbear\": \"/faces/hugbear.gif\",\n\t\"#lolipolice\": \"/faces/lolipolice.gif\",\n\t\"#mashiroglare\": \"/faces/mashiroglare.gif\",\n\t\"#lwahorror\": \"/faces/lwahorror.gif\",\n\t\"#lwahorror2\": null,\n\t\"#salt\": \"/faces/salt.gif\",\n\t\"#modabuse\": \"/faces/modabuse.gif\",\n\t\"#hisocuck\": \"/faces/hisocuck.gif\",\n\t\"#salutegeo\": \"/faces/salutegeo.gif\",\n\t\"#shitposting\": \"/faces/shitposting.gif\",\n\t\"#squee\": \"/faces/squee.gif\",\n\t\"#terror\": null,\n\t\"#awe\": \"/faces/akkowonder.gif\",\n\t\"#wow\": \"/faces/vignewow.gif\",\n\t\"#nyanpasu\": \"/faces/nyanpasu.gif\",\n\t\"#wallpunch\": \"/faces/wallpunch.gif\",\n\t\"#doggo\": \"faces/doggo.gif\",\n\t\"#headpat\": null,\n\n\t\"#akyuusqueel\": \"/faces/akyuusqueel.jpg\",\n\t\"#annoyedkirito\": \"/faces/annoyedkirito.jpg\",\n\t\"#arakawascream\": \"/faces/arakawascream.jpg\",\n\t\"#asunanotamused\": \"/faces/asunanotamused.jpg\",\n\t\"#badassmugi\": \"/faces/badassmugi.jpg\",\n\t\"#barakamonnotcool\": \"/faces/barakamonnotcool.jpg\",\n\t\"#bearhug\": \"/faces/bearhug.jpg\",\n\t\"#bestiacheckyourprivilage\": \"/faces/bestiacheckyourprivilage.jpg\",\n\t\"#bestiathumbsup\": \"/faces/bestiathumbsup.jpg\",\n\t\"#biribiricat\": \"/faces/biribiricat.jpg\",\n\t\"#chiyomad\": \"/faces/chiyomad.jpg\",\n\t\"#comewithmeifyouwanttobebestgirl\": \"/faces/comewithmeifyouwanttobebestgirl.jpg\",\n\t\"#crazedlaugh\": \"/faces/crazedlaugh.jpg\",\n\t\"#csikon\": \"/faces/csikon.jpg\",\n\t\"#cup1\": \"/faces/cup1.jpg\",\n\t\"#cup2\": \"/faces/cup2.jpg\",\n\t\"#disbelief\": \"/faces/disbelief.jpg\",\n\t\"#dontdometh\": \"/faces/dontdometh.jpg\",\n\t\"#duckhue\": \"/faces/duckhue.jpg\",\n\t\"#elsieqq\": \"/faces/elsieqq.jpg\",\n\t\"#etotamadunno\": \"/faces/etotamaface.jpg\",\n\t\"#gintamaspillage\": \"/faces/gintamaspillage.jpg\",\n\t\"#gintamasunlight\": \"/faces/gintamasunlight.jpg\",\n\t\"#gintamathispleasesme\": \"/faces/gintamathispleasesme.jpg\",\n\t\"#glasses-push\": \"/faces/glasses-psuh.jpg\",\n\t\"#hanasakueurgh\": \"/faces/hanasakueurgh.jpg\",\n\t\"#haruhiisnotamused\": \"/faces/haruhiisnotamused.jpg\",\n\t\"#mmmmyrgh\": \"/faces/hinakonom.jpg\",\n\t\"#hisokaclown\": \"/faces/hisokaclown.jpg\",\n\t\"#hunchedover\": \"/faces/hunchedover.jpg\",\n\t\"#infernocopu\": \"/faces/infernocopu.jpg\",\n\t\"#jibrilaww\": \"/faces/jibrilaww.jpg\",\n\t\"#katoupls\": \"/faces/katoupls.jpg\",\n\t\"#katoupout\": \"/faces/katoupout.jpg\",\n\t\"#kumikouninterested\": \"/faces/kumikouninterested.jpg\",\n\t\"#kyonfacepalm\": \"/faces/kyonfacepalm.jpg\",\n\t\"#maidshock\": \"/faces/maidshock.jpg\",\n\t\"#marikalewd\": \"/faces/marikalewd.jpg\",\n\t\"#mechablush\": \"/faces/mechablush.jpg\",\n\t\"#miiaembarassed\": \"/faces/miiaembarassed.jpg\",\n\t\"#misakiwink\": \"/faces/misakiwink.jpg\",\n\t\"#misakiteehee\": \"/faces/misakiteehee.jpg\",\n\t\"#mug1\": \"/faces/mug1.jpg\",\n\t\"#mug2\": \"/faces/mug2.jpg\",\n\t\"#mug3\": \"/faces/mug3.jpg\",\n\t\"#niatilt\": \"/faces/niatilt.jpg\",\n\t\"#nichijouqq\": \"/faces/nichijouqq.jpg\",\n\t\"#nononkek\": \"/faces/nononkek.jpg\",\n\t\"#nosepick\": \"/faces/nosepick.jpg\",\n\t\"#rengehype\": \"/faces/rengehype.jpg\",\n\t\"#scaredmio\": \"/faces/scaredmio.jpg\",\n\t\"#sheerdisgust\": \"/faces/sheerdisgust.jpg\",\n\t\"#smuglancer\": \"/faces/smuglancer.jpg\",\n\t\"#smugpoint\": \"/faces/smugpoint.jpg\",\n\t\"#smugshinobu\": \"/faces/smugshinobu.jpg\",\n\t\"#sports\": \"/faces/sports.jpg\",\n\t\"#trollarcher\": \"/faces/trollarcher.jpg\",\n\t\"#whowouldathunkit\": \"/faces/whowouldathunkit.jpg\",\n\t\"#WRYYY\": \"/faces/WRYYY.jpg\",\n\t\"#yandereyuno\": \"/faces/yandereyuno.jpg\",\n\t\"#yuruyuriapprove\": \"/faces/yuyuyuriapprove.jpg\",\n\t\n\t\"#adminsdidwhat\": \"/faces/adminsdidwhat.png\",\n\t\"#airfist\": \"/faces/airfist.png\",\n\t\"#amurodealwithit\": \"/faces/amurodealwithit.png\",\n\t\"#annoyedkiki\": \"/faces/annoyedkiki.png\",\n\t\"#annoyedmayaka\": \"/faces/annoyedmayaka.png\",\n\t\"#antabaka\": \"/faces/antabaka.png\",\n\t\"#konosubawot\": \"/faces/aquawot.png\",\n\t\"#arresteddevelopment\": \"/faces/arresteddevelopment.png\",\n\t\"#assman\": \"/faces/assman.png\",\n\t\"#badtaste\": \"/faces/badtaste.png\",\n\t\"#banhammer\": \"/faces/banhammer.png\",\n\t\"#biiru\": \"/faces/biiru.png\",\n\t\"#blindinglight\": \"/faces/blindinglight.png\",\n\t\"#brokenkokoro\": \"/faces/brokenkokoro.png\",\n\t\"#cantbehelped\": \"/faces/cantbehelped.png\",\n\t\"#cateyes\": \"/faces/cateyes.png\",\n\t\"#cheekygahara\": \"/faces/cheekygahara.png\",\n\t\"#chinosmirk\": \"/faces/chinosmirk.png\",\n\t\"#comfy\": \"/faces/comfy.png\",\n\t\"#concealedexcitement\": \"/faces/concealedexcitement.png\",\n\t\"#cooresto\": \"/faces/cooresto.png\",\n\t\"#crumblingdespair\": \"/faces/crumblingdespair.png\",\n\t\"#cup3\": \"/faces/cup3.png\",\n\t\"#cup4\": \"/faces/cup4.png\",\n\t\"#cup5\": \"/faces/cup5.png\",\n\t\"#cup6\": \"/faces/cup6.png\",\n\t\"#cup7\": \"/faces/cup7.png\",\n\t\"#cup8\": \"/faces/cup8.png\",\n\t\"#cup9\": \"/faces/cup9.png\",\n\t\"#datass\": \"/faces/datass.png\",\n\t\"#dejected\": \"/faces/dejected.png\",\n\t\"#delicioustears\": \"/faces/delicioustears.png\",\n\t\"#didyouseriouslyjustsaythat\": \"/faces/didyouseriouslyjustsaythat.png\",\n\t\"#displeasedasuka\": \"/faces/displeasedasuka.png\",\n\t\"#donewiththisshit\": \"/faces/donewiththisshit.png\",\n\t\"#dubs\": \"/faces/dubs.png\",\n\t\"#edneedsdis\": \"/faces/edneedsdis.png\",\n\t\"#eheheh\": \"/faces/eheheh.PNG\",\n\t\"#ero\": \"/faces/ero.png\",\n\t\"#everythingisfine\": \"/faces/everythingisfine.png\",\n\t\"#eyythisguy\": \"/faces/eyythisguy.PNG\",\n\t\"#faito\": \"/faces/faito.png\",\n\t\"#feelingloved\": \"/faces/feelingloved.png\",\n\t\"#fingertwirl\": \"/faces/fingertwirl.png\",\n\t\"#firstthinginthemorning\": \"/faces/firstthinginthemorning.png\",\n\t\"#forbiddenlove\": \"/faces/forbiddenlove.png\",\n\t\"#frockychou.png\": \"/faces/frockychou.png\",\n\t\"#fuckyou\": \"/faces/fuck%20you.png\",\n\t\"#fujostare\": \"/faces/fujostare.PNG\",\n\t\"#gabdisgust\": \"/faces/gabdisgust.png\",\n\t\"#getout\": \"/faces/getout.png\",\n\t\"#ginapproves\": \"/faces/ginapproves.png\",\n\t\"#girlishploy\": \"/faces/girlishploy.png\",\n\t\"#giveitback\": \"/faces/giveitback.png\",\n\t\"#goblet1\": \"/faces/goblet1.png\",\n\t\"#hackadollthumbsup\": \"/faces/hackadollthumbsup.png\",\n\t\"#happyrem\": \"/faces/happyrem.png\",\n\t\"#happysaitama\": \"/faces/happysaitama.png\",\n\t\"#healthypasstimes\": \"/faces/healthypasstimes.png\",\n\t\"#hellopolice\": \"/faces/hellopolice.png\",\n\t\"#helmetgril\": \"/faces/helmetgril.png\",\n\t\"#hououinseesit\": \"/faces/hououinseesit.png\",\n\t\"#howcouldyou\": \"/faces/howcouldyou.png\",\n\t\"#hypeoverload\": \"/faces/hypeoverload.png\",\n\t\"#igiveup\": \"/faces/igiveup.png\",\n\t\"#illyastare\": \"/faces/illyastare.png\",\n\t\"#ilovethiskindofshit\": \"/faces/ilovethiskindofshit.png\",\n\t\"#judgesucy\": \"/faces/judgesucy.png\",\n\t\"#juice1\": \"/faces/juice1.png\",\n\t\"#justasplanned\": \"/faces/justasplanned.png\",\n\t\"#kannathumbs\": \"/faces/kannathumbs.png\",\n\t\"#kanyehidouyo\": \"/faces/kanyehidouyo.png\",\n\t\"#kaorusmile\": \"/faces/kaorusmile1.png\",\n\t\"#happykaoru\": \"/faces/kaorusmile.png\",\n\t\"#konosubawot2:\": \"/faces/kazumawot.png\",\n\t\"#keikaku\": \"/faces/keikaku.png\",\n\t\"#killwithfire\": \"/faces/killwithfire.png\",\n\t\"#killuadisgust\": \"/faces/killuadisgust.png\",\n\t\"#kms\": \"/faces/kms.PNG\",\n\t\"#konhug\": \"/faces/konhug.png\",\n\t\"#konodioda\": \"/faces/konodioda.png\",\n\t\"#konosubawot3\": \"/faces/konosubawot3.png\",\n\t\"#kukuku2\": \"/faces/kukuku2.png\",\n\t\"#kumikolook\": \"/faces/kumikolook.png\",\n\t\"#kumikotears\": \"/faces/kumikotears.png\",\n\t\"#kurokokek\": \"/faces/kurokokek.png\",\n\t\"#KUSOTTARE\": \"/faces/KUSODARYA.png\",\n\t\"#labmembernumber009\": \"/faces/labmembernumber009.png\",\n\t\"#lewdgyaru\": \"/faces/lewdgyaru.png\",\n\t\"#lifeishard\": \"/faces/lifeishard.png\",\n\t\"#loli_ok\": \"/faces/loli_ok.png\",\n\t\"#loliwave\": \"/faces/loliwave.png\",\n\t\"#makicry\": \"/faces/makicry.png\",\n\t\"#megubeer\": \"/faces/megubeer.png\",\n\t\"#meguminthumbsup\": \"/faces/megumin.png\",\n\t\"#megushock\": \"/faces/megushock.png\",\n\t\"#mindblank\": \"/faces/mindblank.PNG\",\n\t\"#minoridenied\": \"/faces/minoridenied.png\",\n\t\"#mitsukishock\": \"/faces/mitsukishock.png\",\n\t\"#miyamoriunimpressed\": \"/faces/miyamoriunimpressed.png\",\n\t\"#morethanonewaifu\": \"/faces/morethanonewaifu.PNG\",\n\t\"#mug4\": \"/faces/mug4.png\",\n\t\"#mug5\": \"/faces/mug5.png\",\n\t\"#mug6\": \"/faces/mug6.png\",\n\t\"#mug7\": \"/faces/mug7.png\",\n\t\"#mug8\": \"/faces/mug8.png\",\n\t\"#mug9\": \"/faces/mug9.png\",\n\t\"#mug10\": \"/faces/mug10.png\",\n\t\"#naziloli\": \"/faces/naziloli.png\",\n\t\"#nerr\": \"/faces/nerr.png\",\n\t\"#nichijouthumbs\": \"/faces/nichijouthumbs.png\",\n\t\"#nicoheart\": \"/faces/nicoheart.png\",\n\t\"#nicoisdone\": \"/faces/nicoisdone.png\",\n\t\"#niconoo\": \"/faces/niconoo.png\",\n\t\"#noice\": \"/faces/noice.png\",\n\t\"#nosebleedthumbs\": \"/faces/nosebleedthumbs.png\",\n\t\"#nosenpai\": \"/faces/nosenpai.png\",\n\t\"#notaccordingtokeikaku\": \"/faces/notaccordingtokeikaku.png\",\n\t\"#nottodisushittoagen\": \"/faces/nottodisushittoagen.png\",\n\t\"#ohdear\": \"/faces/ohdear.png\",\n\t\"#ohfuck\": \"/faces/ohfuck.png\",\n\t\"#ohshit\": \"/faces/ohshit.png\",\n\t\"#ok_hand\": \"/faces/ok_hand.png\",\n\t\"#oooreally\": \"/faces/oooreally.png\",\n\t\"#osomatsurage\": \"/faces/osomatsurage.png\",\n\t\"#overwhelmed\": \"/faces/overwhelmed.png\",\n\t\"#papithumbsup\": \"/faces/papithumbsup.png\",\n\t\"#peace\": \"/faces/peace.png\",\n\t\"#peacepeace\": \"/faces/peacepeace.png\",\n\t\"#plebgetawayfromme\": \"/faces/plebgetawayfromme.png\",\n\t\"#poltears\": \"/faces/poltears.png\",\n\t\"#protest\": \"/faces/protest.png\",\n\t\"#psh-mongrels\": \"/faces/psh-mongrels.png\",\n\t\"#ptsd\": \"/faces/ptsd.png\",\n\t\"#quality\": \"/faces/quality.png\",\n\t\"#rec\": \"/faces/rec.png\",\n\t\"#rinkek\": \"/faces/rinkek.png\",\n\t\"#saberawe\": \"/faces/saberawe.png\",\n\t\"#sadholo\": \"/faces/sadholo.png\",\n\t\"#saehug\": \"/faces/saehug.png\",\n\t\"#saesmile\": \"/faces/saesmile.png\",\n\t\"#saikikek\": \"/faces/saikikek.png\",\n\t\"#saitamadeathstare\": \"/faces/saitamadeathstare.png\",\n\t\"#salute\": \"/faces/salute.png\",\n\t\"#schemingsaten\": \"/faces/schemingsaten.png\",\n\t\"#sciencebringspeopletogehter\": \"/faces/sciencebringspeopletogether.png\",\n\t\"#schwing\": \"/faces/scwhing.png\",\n\t\"#selfcontrol\": \"/faces/selfcontrol.png\",\n\t\"#shatteredsaten\": \"/faces/shatteredsaten.png\",\n\t\"#shh\": \"/faces/shh.png\",\n\t\"#shhbabe\": \"/faces/shhbabe.png\",\n\t\"#shinjimug\": \"/faces/shinjimug.png\",\n\t\"#shirayukidetermined\": \"/faces/shirayukidetermined.png\",\n\t\"#shirayukidizzyblush\": \"/faces/shirayukidizzyblush2.png\",\n\t\"#shirayukidrunk\": \"/faces/shirayukidrunk.png\",\n\t\"#shirayukieavesdrop\": \"/faces/shirayukieavesdrop.png\",\n\t\"#shirayukifuckinreally\": \"/faces/shirayukifuckinreally.png\",\n\t\"#shirayukismile\": \"/faces/shirayukismile.png\",\n\t\"#sideeyes\": \"/faces/sideeyes.png\",\n\t\"#sleepingcutie\": \"/faces/sleepingcutie.png\",\n\t\"#smugasuna\": \"/faces/smugasuna.png\",\n\t\"#smughaikyuu\": \"/faces/smughaikyuu.png\",\n\t\"#smugobi\": \"/faces/smugobi.png\",\n\t\"#smugrose\": \"/faces/smugrose.PNG\",\n\t\"#sowwy\": \"/faces/sowwy.PNG\",\n\t\"#spookyglasses\": \"/faces/spookyglasses.png\",\n\t\"#surprisedhifumi\": \"/faces/surprisedhifumi.png\",\n\t\"#sweating\": \"/faces/sweating.PNG\",\n\t\"#taigaheadache\": \"/faces/taigaheadache.png\",\n\t\"#takaradasalute\": \"/faces/takaradasalute.png\",\n\t\"#takasakiapproves\": \"/faces/takasakiapproves.png\",\n\t\"#tamakoapple\": \"/faces/tamakoapple.png\",\n\t\"#tearsofabestgirl\": \"/faces/tearsofabestgirl.png\",\n\t\"#teekyuuhype\": \"/faces/teekyuuhype.png\",\n\t\"#thinkingtoohard\": \"/faces/thinkingtoohard.png\",\n\t\"#thisisfine\": \"/faces/thisisfine.png\",\n\t\"#tomato\": \"/faces/tomato.png\",\n\t\"#TOMODA\": \"/faces/TOMODA.png\",\n\t\"#toradorable\": \"/faces/toradorable.png\",\n\t\"#toradorasalute\": \"/faces/toradorasalute.png\",\n\t\"#towel\": \"/faces/towel.png\",\n\t\"#triggeredkillua\": \"/faces/triggeredkillua.png\",\n\t\"#urarahype\": \"/faces/urarahype.png\",\n\t\"#usamiwink\": \"/faces/usamiwink.png\",\n\t\"#utahapraises\": \"/faces/utahapraises.png\",\n\t\"#uwaa\": \"/faces/uwaa.PNG\",\n\t\"#waah\": \"/faces/waah.png\",\n\t\"#watashihasdeclined\": \"/faces/watashihasdeclined.png\",\n\t\"#watashiworried\": \"/faces/watashiworried.png\",\n\t\"#whatamireading\": \"/faces/whatamireading.png\",\n\t\"#whatdidijustread\": \"/faces/whatdidijustread.PNG\",\n\t\"#whatisthisguydoing\": \"/faces/whatisthisguydoing.png\",\n\t\"#whisperwhisper\": \"/faces/whisperwhisper.png\",\n\t\"#wideeyed\": \"/faces/wideeyed.png\",\n\t\"#yuishrug\": \"/faces/yuishrug.png\",\n\t\"#yunosunglasses\": \"/faces/yunosunglasses.png\",\n\t\"#zetsuboushta\": \"/faces/zetsuboushta.png\",\n\t\"#modsalute\": \"/faces/modsalute.png\"\n};\n\nexport default facecodes;\n","import React from 'react';\nimport facecodes from './facecodes';\n\nconst CommentFace = (props) => {\n\treturn(\n\t\t<span className=\"comment-face\" title={props.title}>\n\t\t\t<img\n\t\t\t\tsrc={facecodes[props.code]\n\t\t\t\t\t? facecodes[props.code]\n\t\t\t\t\t: '/faces/notfound.jpg'}\n\t\t\t\talt={props.code}\n\t\t\t\tclassName=\"face\"\n\t\t\t/>\n\t\t\t<span className=\"face-text\">{props.children}</span>\n\t\t</span>\n\t)\n}\n\nexport default CommentFace;\n","import React from 'react';\n\nclass Spoiler extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { className: \"spoiler\" };\n//\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\t\n\t// TODO: figure out why state resets when new comments are loaded in\n\tonClick() {\n\t\tthis.setState(oldState => {\n\t\t\treturn { className: oldState.className === \"spoiler\"\n\t\t\t? \"spoiler-revealed\"\n\t\t\t: \"spoiler\" };\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<span \n\t\t\t\tclassName={this.state.className} \n//\t\t\t\tonClick={this.onClick}\n\t\t\t>\n\t\t\t\t{this.props.outerText}\n\t\t\t\t<span className=\"spoiler-inner\">\n\t\t\t\t\t{this.props.innerText}\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n\n}\n\nexport default Spoiler;\n","import React from 'react';\nimport CommentFace from './CommentFace';\nimport Spoiler from './Spoiler';\n\nexport default {\n\tlink: props => {\n\t\tif (/^#\\S+/.test(props.href)) {\n\t\t\treturn <CommentFace\n\t\t\t\tcode={props.href}\n\t\t\t\ttitle={props.title}\n\t\t\t\tchildren={props.children}\n\t\t\t/>\n\t\t} else if (/^\\/s$/.test(props.href)) {\n\t\t\treturn <Spoiler\n\t\t\t\touterText={props.children}\n\t\t\t\tinnerText={props.title}\n\t\t\t/>\n\t\t} else if (/^\\/?[ur]\\/\\S+/.test(props.href)) {\n\t\t\treturn <a\n\t\t\t\thref={'https://reddit.com/'+props.href}\n\t\t\t\ttitle={props.title}\n\t\t\t\ttarget='_blank'\n\t\t\t\tclassName='md-link'\n\t\t\t\trel='noreferrer noopener'\n\t\t\t>{props.children}</a>\n\t\t} else {\n\t\t\treturn <a\n\t\t\t\thref={props.href}\n\t\t\t\ttitle={props.title}\n\t\t\t\ttarget='_blank'\n\t\t\t\tclassName='md-link'\n\t\t\t\trel='noreferrer noopener'\n\t\t\t>{props.children}</a>\n\t\t}\n\t}\n}\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport renderers from '../resources/renderers';\nimport axios from 'axios';\nimport querystring from 'querystring';\n\nclass Editor extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisSending: false,\n\t\t\ttext: ''\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.submit = this.submit.bind(this);\n\t\tthis.cancel = this.cancel.bind(this);\n\t}\n\n\thandleChange(e) {\n\t\tthis.setState({text: e.target.value});\n\t}\n\n\tsubmit(e) {\n\t\tlet uri;\n\t\tif (this.props.editorMode === 'reply')\n\t\t\turi = \"https://oauth.reddit.com/api/comment\";\n\t\telse if (this.props.editorMode === 'edit')\n\t\t\turi = \"https://oauth.reddit.com/api/editusertext\";\n\n\t\tthis.setState({ isSending: true }, () => {\n\t\t\taxios({\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: { \n\t\t\t\t\tAuthorization: 'Bearer ' + this.props.accessToken,\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t},\n\t\t\t\turl: uri,\n\t\t\t\tdata: querystring.encode({\n\t\t\t\t\ttext: this.state.text,\n\t\t\t\t\tapi_type: 'json',\n\t\t\t\t\tthing_id: this.props._id\n\t\t\t\t})\n\t\t\t}).then(res => {\n\t\t\t\tif (this.props.editorMode === 'edit') {\n\t\t\t\t\tthis.props.editFeed({\n\t\t\t\t\t\t_id: this.props._id,\n\t\t\t\t\t\tbody: this.state.text\n\t\t\t\t\t});\n\t\t\t\t\taxios({\n\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\turl: process.env.REACT_APP_API + 'edit',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t_id: this.props._id,\n\t\t\t\t\t\t\tid: this.props.id,\n\t\t\t\t\t\t\tbody: this.state.text\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tif (res.data.message === 'success') {\n\t\t\t\t\t\t\tthis.props.editFeed({\n\t\t\t\t\t\t\t\t_id: this.props._id,\n\t\t\t\t\t\t\t\tbody: this.state.text\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.props.toggleEditor(this.props.editorMode);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.toggleEditor(this.props.editorMode);\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tthis.props.toggleEditor(this.props.editorMode);\n\t\t\t});\n\t\t});\n\t\te.preventDefault();\n\t}\n\n\tcancel(e) {\n\t\tthis.props.toggleEditor(this.props.editorMode);\n\t\te.preventDefault();\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.editorMode === 'edit') {\n\t\t\tthis.setState({ text: this.props.body });\n\t\t} else if (this.props.editorMode === 'reply') {\n\t\t\tif (window.getSelection) {\n\t\t\t\tthis.setState({ text: window.getSelection()\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(/^.*/gm, t => '>'+t)\n\t\t\t\t\t.replace(/^>$/gm, t => '')\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.text === '' ||\n\t\t\t\t\t<div className=\"col-xs-11 list-group-item comment preview\">\n\t\t\t\t\t\t<p><strong>Preview</strong></p>\n\t\t\t\t\t\t<span className=\"body-row\">\n\t\t\t\t\t\t\t<ReactMarkdown\n\t\t\t\t\t\t\t\tsource={this.state.text}\n\t\t\t\t\t\t\t\tdisallowedTypes={['imageReference', 'linkReference']}\n\t\t\t\t\t\t\t\trenderers={renderers}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t\t<form onSubmit={this.submit}>\n\t\t\t\t\t<textarea \n\t\t\t\t\t\tclassName='editor-box'\n\t\t\t\t\t\trows='6'\n\t\t\t\t\t\tcols='100'\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tdisabled={this.state.isSending}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<br />\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"form-button\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={this.state.isSending}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.props.editorMode}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"form-button\"\n\t\t\t\t\t\tonClick={this.cancel}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={this.state.isSending}\n\t\t\t\t\t>\n\t\t\t\t\t\tcancel\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Editor;\n","import React from 'react';\nimport axios from 'axios';\nimport querystring from 'querystring';\nimport Editor from './Editor';\nimport TimeAgo from 'react-timeago';\nimport ReactMarkdown from 'react-markdown';\nimport renderers from '../resources/renderers';\n\nconst CommentAuthorRow = (props) => {\n\treturn (\n\t\t<div className=\"author-row row\">\n\t\t\t<div className=\"col-xs-11\">\n\t\t\t\t<h5>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={props.permalink}\n\t\t\t\t\t\tclassName=\"username\"\n\t\t\t\t\t\trel=\"noreferrer noopener\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t><strong>\n\t\t\t\t\t\t{props.author}\n\t\t\t\t\t</strong></a>\n\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"link-primary\"\n\t\t\t\t\t\tstyle={{float: 'right'}}\n\t\t\t\t\t\ttitle={new Date(props.created*1000)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TimeAgo\n\t\t\t\t\t\t\tdate={props.created*1000}\n\t\t\t\t\t\t\ttitle={null}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</h5>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst CommentBodyRow = (props) => {\n\treturn (\n\t\t<div className=\"body-row row\">\n\t\t\t<div className=\"col-xs-11\">\n\t\t\t\t<ReactMarkdown\n\t\t\t\t\tsource={props.body.replace(/^#{1,}/gm, '$& ')}\n\t\t\t\t\tdisallowedTypes={['imageReference', 'linkReference']}\n\t\t\t\t\trenderers={renderers}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"col-xs-1\">\n\t\t\t\t<a\n\t\t\t\t\thref={props.permalink}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\t<h2\n\t\t\t\t\t\tclassName=\"arrow-link text-center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tclassName=\"fa fa-angle-right\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</h2>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nclass CommentButtonsRow extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\teditorMode: 'hidden'\n\t\t};\n\t\tthis.toggleEditor = this.toggleEditor.bind(this);\n\t\tthis.deletePost = this.deletePost.bind(this);\n\t\tthis.save = this.save.bind(this);\n\t\tthis.hide = this.hide.bind(this);\n\t\tthis.upvote = this.upvote.bind(this);\n\t}\n\n\tdeletePost() {\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: 'https://oauth.reddit.com/api/del',\n\t\t\theaders: {\n\t\t\t\tAuthorization: 'Bearer ' + this.props.accessToken,\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t},\n\t\t\tdata: querystring.encode({\n\t\t\t\tid: this.props._id\n\t\t\t})\n\t\t}).then(res => {\n\t\t\taxios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: process.env.REACT_APP_API + 'v1/delete',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t},\n\t\t\t\tdata: querystring.encode({\n\t\t\t\t\tid: this.props.id,\n\t\t\t\t\t_id: this.props._id\n\t\t\t\t})\n\t\t\t}).then(res => {\n\t\t\t\tif (res.data.message === 'success') {\n\t\t\t\t\tthis.props.deleteFromFeed(this.props._id);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tsave() {\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: (this.props.isSaved ? \n\t\t\t\t'https://oauth.reddit.com/api/unsave' :\n\t\t\t\t'https://oauth.reddit.com/api/save'),\n\t\t\theaders: {\n\t\t\t\tAuthorization: 'Bearer ' +\n\t\t\t\t\tthis.props.accessToken,\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t},\n\t\t\tdata: querystring.encode({\n\t\t\t\tid: this.props._id\n\t\t\t})\n\t\t}).then(res => {\n\t\t\tthis.props.save();\n\t\t});\n\t}\n\n\thide() {\n\t\tthis.props.hide();\n\t}\n\n\tupvote() {\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: 'https://oauth.reddit.com/api/vote',\n\t\t\theaders: {\n\t\t\t\tAuthorization: 'Bearer ' + this.props.accessToken,\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t},\n\t\t\tdata: querystring.encode({\n\t\t\t\tid: this.props._id,\n\t\t\t\tdir: (this.props.upvoted ? 0 : 1)\n\t\t\t})\n\t\t}).then(res => {\n\t\t\tthis.props.upvote();\n\t\t}).catch(err => console.log(err));\n\t}\n\n\ttoggleEditor(mode) {\n\t\tthis.setState(state => {\n\t\t\treturn {\n\t\t\t\teditorMode: (mode === state.editorMode\n\t\t\t\t\t\t\t? 'hidden'\n\t\t\t\t\t\t\t: mode)\n\t\t\t};\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.props.ownPost ||\n\t\t\t\t\t<a\n\t\t\t\t\t\thref='javascript:void(0)'\n\t\t\t\t\t\tclassName={'reddit-button link-primary' + \n\t\t\t\t\t\t\t(this.props.isUpvoted ? ' upvoted' : '')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={ () => this.upvote()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className='fas fa-arrow-up'></i>\n\t\t\t\t\t</a>\n\t\t\t\t}\n\n\t\t\t\t{this.props.ownPost &&\n\t\t\t\t\t<a\n\t\t\t\t\t\thref='javascript:void(0)'\n\t\t\t\t\t\tclassName='link-primary reddit-button'\n\t\t\t\t\t\tonClick={ () => this.deletePost()}\n\t\t\t\t\t>\n\t\t\t\t\t\tdelete\n\t\t\t\t\t</a>\n\t\t\t\t}\n\n\t\t\t\t<a\n\t\t\t\t\thref='javascript:void(0)'\n\t\t\t\t\tclassName='link-primary reddit-button'\n\t\t\t\t\tonClick={ () => this.save()}\n\t\t\t\t>\n\t\t\t\t\t{this.props.isSaved ? 'unsave' : 'save'}\n\t\t\t\t</a>\n\n\t\t\t\t<a\n\t\t\t\t\thref='javascript:void(0)'\n\t\t\t\t\tclassName='link-primary reddit-button'\n\t\t\t\t\tonClick={ () => this.hide()}\n\t\t\t\t>\n\t\t\t\t\t{this.props.isHidden ? 'unhide' : 'hide'}\n\t\t\t\t</a>\n\n\t\t\t\t{this.state.editorMode !== 'hidden' &&\n\t\t\t\t\t<Editor \n\t\t\t\t\t\teditorMode={this.state.editorMode}\n\t\t\t\t\t\ttoggleEditor={this.toggleEditor}\n\t\t\t\t\t\teditPost={this.editPost}\n\t\t\t\t\t\tdeletePost={this.deletePost}\n\t\t\t\t\t\t{...this.props}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t{this.props.ownPost &&\n\t\t\t\t\t<a\n\t\t\t\t\t\thref='javascript:void(0)'\n\t\t\t\t\t\tclassName='link-primary reddit-button'\n\t\t\t\t\t\tonClick={ () => this.toggleEditor('edit')}\n\t\t\t\t\t>\n\t\t\t\t\t\tedit\n\t\t\t\t\t</a>\n\t\t\t\t}\n\n\t\t\t\t<a\n\t\t\t\t\thref='javascript:void(0)'\n\t\t\t\t\tclassName='link-primary reddit-button'\n\t\t\t\t\tonClick={ () => this.toggleEditor('reply')}\n\t\t\t\t>\n\t\t\t\t\treply \n\t\t\t\t</a>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CommentAuthorRow,\n\t\tCommentBodyRow,\n\t\tCommentButtonsRow }\n","import React from 'react';\n\nimport CommentContainer from '../containers/CommentContainer';\nimport { CommentBodyRow,\n\tCommentAuthorRow,\n\tCommentButtonsRow } from './CommentRows';\n\nconst Comment = (props) => {\n\tlet children = props.children.map(comment => {\n\t\treturn <CommentContainer\n\t\t\t_id={comment._id}\n\t\t\tkey={comment.id}\n\t\t\tauthor={comment.author}\n\t\t\tbody={comment.body}\n\t\t\tpermalink={comment.permalink}\n\t\t\tcreated={comment.created}\n\t\t\tclassName=\"reply\"\n\t\t/>\n\t});\n\t\n\treturn (\n\t\tprops.isHidden ||\n\t\t<li\n\t\t\tclassName={\n\t\t\t\tprops.className + \" comment list-group-item\" + \n\t\t\t\t(props.ownPost ? ' own-post' : '')\n\t\t\t}\n\t\t\tid={props._id}\n\t\t>\n\n\t\t\t<CommentAuthorRow {...props} />\n\t\t\t<CommentBodyRow {...props} />\n\t\t\t{props.isLoggedIn ? <CommentButtonsRow {...props} /> : null}\n\n\t\t\t<ul\n\t\t\t\tclassName=\"comment-replies list-group\"\n\t\t\t\tid={props._id+'-replies'}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</ul>\n\n\t\t</li>\n\t);\n}\n\nexport default Comment;\n","import {\n\t\tAPPEND_TO_FEED,\n\t\tPREPEND_TO_FEED,\n\t\tUPDATE_THREAD,\n\t\tSET_ACCESS_TOKEN,\n\t\tSET_REFRESH_TOKEN,\n\t\tEDIT_FEED,\n\t\tDELETE_FROM_FEED,\n\t\tHIDE,\n\t\tSAVE,\n\t\tUPVOTE,\n\t\tSET_USER,\n\t\tLOGOUT\n\t} from './actionTypes';\n\n/**\n * appends comments to end of feed.\n * to be used for fetching comments older than oldest parent in feed.\n * payload MUST be an array\n * will automatically filter out comments already in feed.\n **/\nexport const appendToFeed = arr => ({\n\ttype: APPEND_TO_FEED,\n\tpayload: arr\n});\n\n/**\n * prepends comments to beginning of feed.\n * to be used for fetching latest comments.\n * payload MUST be an array\n * will automatically filter out comments already in feed.\n **/\nexport const prependToFeed = arr => ({\n\ttype: PREPEND_TO_FEED,\n\tpayload: arr\n});\n\n/**\n * updates thread object in store\n * payload must be object retrieved from api\n **/\nexport const updateThread = thread => ({\n\ttype: UPDATE_THREAD,\n\tpayload: {\n\t\t...thread\n\t}\n});\n\n/**\n * sets new user access token\n **/\nexport const setAccessToken = token => ({\n\ttype: SET_ACCESS_TOKEN,\n\tpayload: {\n\t\taccessToken: token\n\t}\n});\n\n/**\n * sets user refresh token\n **/\nexport const setRefreshToken = token => ({\n\ttype: SET_REFRESH_TOKEN,\n\tpayload: {\n\t\trefreshToken: token\n\t}\n});\n\n/**\n * edits comment in feed.\n * payload must contain '_id' field and new body text.\n **/\nexport const editFeed = comment => ({\n\ttype: EDIT_FEED,\n\tpayload: {\n\t\t...comment\n\t}\n});\n\n/**\n * deletes comment from feed.\n * payload must be fullname string (i.e. 't1_#######')\n **/\nexport const deleteFromFeed = comment => ({\n\ttype: DELETE_FROM_FEED,\n\tpayload: comment._id\n});\n\n/**\n * sets username\n **/\nexport const setUser = user => ({\n\ttype: SET_USER,\n\tpayload: user\n});\n\n/**\n * removes all login information from client\n **/\nexport const logout = () => ({\n\ttype: LOGOUT,\n\tpayload: null\n});\n\n/**\n * toggles status of post being upvoted\n **/\nexport const upvote = _id => ({\n\ttype: UPVOTE,\n\tpayload: _id\n})\n\n/**\n * toggles visibility of post\n **/\nexport const hide = _id => ({\n\ttype: HIDE,\n\tpayload: _id\n})\n\n/**\n * toggles status of post being saved\n **/\nexport const save = _id => ({\n\ttype: SAVE,\n\tpayload: _id\n})\n","import Comment from '../components/Comment';\n\nimport { connect } from 'react-redux';\n\nimport { prependToFeed,\n\teditFeed,\n\tdeleteFromFeed,\n\tupvote,\n\thide,\n\tsave } from '../redux/actions';\n\nconst mapStateToProps = (state, ownProps) => ({\n\tisHidden: state.feed.hidden.includes(ownProps._id),\n\tisSaved: state.feed.saved.includes(ownProps._id),\n\tisUpvoted: state.feed.upvoted.includes(ownProps._id),\n\townPost: state.reddit.loggedInAs === ownProps.author,\n\tchildren: state.feed.history\n\t\t.filter(comment => comment.parentID === ownProps._id),\n\tisLoggedIn: state.reddit.isLoggedIn,\n\tloggedInAs: state.reddit.loggedInAs,\n\taccessToken: state.reddit.accessToken\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n\tprependToFeed: arr => dispatch(prependToFeed(arr)),\n\teditFeed: comment => dispatch(editFeed(comment)),\n\tdeleteFromFeed: () => dispatch(deleteFromFeed(ownProps._id)),\n\tupvote: (_id = ownProps._id) => dispatch(upvote(_id)),\n\thide: () => dispatch(hide(ownProps._id)),\n\tsave: () => dispatch(save(ownProps._id))\n});\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Comment);\n","import React from 'react';\nimport CommentContainer from '../containers/CommentContainer';\n\nconst Feed = (props) => {\n\tlet comments = props.comments && props.comments\n\t\t.map(comment => {\n\t\t\treturn (\n\t\t\t\t<div style={{ marginTop: '5px'}} key={comment.id}>\n\t\t\t\t\t<CommentContainer\n\t\t\t\t\t\t_id={comment._id}\n\t\t\t\t\t\tkey={comment.id}\n\t\t\t\t\t\tid={comment.id}\n\t\t\t\t\t\tauthor={comment.author}\n\t\t\t\t\t\tbody={comment.body}\n\t\t\t\t\t\tpermalink={comment.permalink}\n\t\t\t\t\t\tcreated={comment.created}\n\t\t\t\t\t\tclassName=\"parent\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\n\treturn (\n\t\t<div>\n\t\t\t<ul className=\"list-group\" id=\"feed\">\n\t\t\t\t{props.isLoading ?\n\t\t\t\t\t<p>Loading...</p> :\n\t\t\t\t\tcomments && comments.length >= 1 ?\n\t\t\t\t\t\tcomments :\n\t\t\t\t\t\t<p>Something went wrong.</p>\n\t\t\t\t}\n\t\t\t</ul>\n\t\t\t<a \n\t\t\t\tclassName=\"link-primary\"\n\t\t\t\thref='javascript:void(0)'\n\t\t\t\tonClick={props.loadMore}\n\t\t\t>\n\t\t\t\tload more comments\n\t\t\t</a>\n\t\t</div>\n\t);\n}\n\nexport default Feed;\n","import React from 'react';\nimport axios from 'axios';\nimport Editor from '../components/Editor';\nimport Feed from '../components/Feed';\n\nimport { appendToFeed,\n\tprependToFeed } from '../redux/actions';\n\nimport { connect } from 'react-redux';\n\n// still verbose, but at least application state isn't dependent on this one file\nclass FeedContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temptyCalls: 1,\n\t\t\tisLoading: false,\n\t\t\teditorMode: 'hidden'\n\t\t};\n\t\tthis.getHistory = this.getHistory.bind(this);\n\t\tthis.keepGettingHistory = this.keepGettingHistory.bind(this);\n\t\tthis.toggleEditor = this.toggleEditor.bind(this);\n\t\tthis.loadMore = this.loadMore.bind(this);\n\t}\n\n\tgetHistory() {\n\t\taxios.get(\n\t\t\tprocess.env.REACT_APP_API+'v1/history.json?newerthan=' +\n\t\t\tthis.props.history[0]._id,\n\t\t\t{ crossdomain: true }\n\t\t).then(res => {\n\t\t\t// verify message\n\t\t\tif (res.data.message &&\n\t\t\t\tArray.isArray(res.data.message) &&\n\t\t\t\tres.data.message.length > 0) {\n\t\t\t\tthis.props.prependToFeed(res.data.message);\n\t\t\t\tthis.setState({ emptyCalls: 1 });\n\t\t\t} else { // delay api calls between empty responses\n\t\t\t\tthis.setState(state => {\n\t\t\t\t\treturn { ...state, emptyCalls: state.emptyCalls+1 }\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tkeepGettingHistory() {\n\t\tsetTimeout( () => {\n\t\t\tthis.getHistory();\n\t\t\tthis.keepGettingHistory();\n\t\t},\n\t\t(this.state.emptyCalls < 24\n\t\t? this.state.emptyCalls * 5000\n\t\t: 24*5000))\n\t}\n\n\tloadMore() {\n\t\taxios.get(\n\t\t\tprocess.env.REACT_APP_API+'v1/history.json?olderthan=' +\n\t\t\tthis.props.history[this.props.history.length-1]._id,\n\t\t\t{ crossdomain: true }\n\t\t).then(res => {\n\t\t\tif (res.data.message &&\n\t\t\t\tArray.isArray(res.data.message) &&\n\t\t\t\tres.data.message.length > 0) {\n\t\t\t\tthis.props.appendToFeed(res.data.message);\n\t\t\t\tthis.setState({ emptyCalls: 1 });\n\t\t\t}\n\t\t});\n\t}\n\n\ttoggleEditor(mode) {\n\t\tthis.setState(state => { \n\t\t\treturn {\n\t\t\t\teditorMode: mode === state.editorMode ? 'hidden' : mode\n\t\t\t};\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({ isLoading: true }, () => {\n\t\t\taxios.get(\n\t\t\t\tprocess.env.REACT_APP_API+'v1/history.json',\n\t\t\t\t{ crossdomain: true }\n\t\t\t).then(res => {\n\t\t\t\tthis.setState({ isLoading: false }, () => {\n\t\t\t\t\tthis.props.prependToFeed(res.data.message);\n\t\t\t\t\tthis.keepGettingHistory();\n\t\t\t\t});\n\t\t\t}).catch( () => {\n\t\t\t\tthis.setState({ isLoading: false });\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{padding: '3px'}}>\n\n\t\t\t\t{ this.state.editorMode === 'hidden' || <Editor\n\t\t\t\t\teditorMode={this.state.editorMode}\n\t\t\t\t\ttoggleEditor={this.toggleEditor}\n\t\t\t\t\tid={this.props.thread._id}\n\t\t\t\t/> }\n\n\t\t\t\t<Feed \n\t\t\t\t\tisLoading={this.state.isLoading}\n\t\t\t\t\tloadMore={this.loadMore}\n\t\t\t\t\tcomments={this.props.history && this.props.history\n\t\t\t\t\t\t.filter(comment => !this.props.hidden.includes(comment._id))\n\t\t\t\t\t\t.filter(comment => /^t3_\\S+/.test(comment.parentID))\n\t\t\t\t\t}\n\t\t\t\t\tupvote={this.props.upvote}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n\thistory: state.feed.history,\n\thidden: state.feed.hidden\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n\tappendToFeed: arr => dispatch(appendToFeed(arr)),\n\tprependToFeed: arr => dispatch(prependToFeed(arr))\n});\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(FeedContainer);\n","import React from 'react';\nimport Editor from './Editor';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nclass Heading extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { editorMode: 'hidden' }\n\t\tthis.toggleEditor = this.toggleEditor.bind(this);\n\t\tthis.updateThread = this.updateThread.bind(this);\n\t\tthis.keepGettingAccessToken = this.keepGettingAccessToken.bind(this)\n\t\tthis.getNewAccessToken = this.getNewAccessToken.bind(this);\n\t}\n\n\ttoggleEditor(mode) {\n\t\tthis.setState(state => ({ editorMode: (mode === state.editorMode\n\t\t\t\t\t\t\t\t\t\t\t\t? 'hidden' : mode) }))\n\t}\n\n\tupdateThread() {\n\t\taxios.get(process.env.REACT_APP_API+'v1/thread.json',\n\t\t\t{ crossdomain: true }\n\t\t).then(res => {\n\t\t\tthis.props.updateThread(res.data.message[0]);\n\t\t});\n\t}\n\t\n\tgetNewAccessToken() {\n\t\taxios.get(\n\t\t\tprocess.env.REACT_APP_API+'v1/token.json?refresh_token='+\n\t\t\tthis.props.refreshToken,\n\t\t\t{ crossdomain: true }\n\t\t).then(res => {\n\t\t\tif (res.data.message.access_token) {\n\t\t\t\tlet accessToken = res.data.message.access_token;\n\t\t\t\tthis.props.setAccessToken(accessToken);\n\n\t\t\t\tif (!this.props.loggedInAs) {\n\t\t\t\t\taxios({\n\t\t\t\t\t\tmethod: 'get',\n\t\t\t\t\t\turl: 'https://oauth.reddit.com/api/v1/me',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: 'bearer ' + accessToken\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tthis.props.setUser(res.data.name);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tkeepGettingAccessToken() {\n\t\tsetTimeout( () => {\n\t\t\tthis.getNewAccessToken();\n\t\t\tthis.keepGettingAccessToken();\n\t\t}, 3300000)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateThread();\n\t\tif (this.props.refreshToken) {\n\t\t\tthis.getNewAccessToken();\n\t\t\tthis.keepGettingAccessToken();\n\t\t}\n\t}\n\n\trender() {\n\t\tlet uriBase = \"https://reddit.com/api/v1/authorize?\",\n\t\t\tredirect = encodeURIComponent(process.env.REACT_APP_REDIRECT),\n\t\t\tscope = [\"edit\", \"read\", \"save\", \"submit\", \"vote\", \"identity\"],\n\t\t\tparams = [\n\t\t\t\t\"client_id=\" + process.env.REACT_APP_CLIENT_ID,\n\t\t\t\t\"response_type=code\",\n\t\t\t\t\"state=\" + localStorage.getItem('device'),\n\t\t\t\t\"redirect_uri=\" + redirect,\n\t\t\t\t\"duration=permanent\",\n\t\t\t\t\"scope=\" + scope.join('+')\n\t\t\t].join('&');\n\n\t\treturn (\n\t\t\t<div className=\"heading\">\n\t\t\t\t<h6 className=\"text-right\"><small>\n\t\t\t\t\t<Link to=\"/about\" className=\"corner-link link-primary\">\n\t\t\t\t\t\tAbout\n\t\t\t\t\t</Link>\n\t\t\t\t</small></h6>\n\t\n\t\t\t\t<h2\n\t\t\t\t\tclassName=\"text-center\"\n\t\t\t\t\tid=\"title\">Casual Discussion Friday</h2>\n\t\t\t\t<h5 className=\"text-center\"><a\n\t\t\t\t\tid=\"latest\"\n\t\t\t\t\tclassName=\"link-primary\"\n\t\t\t\t\thref={\n\t\t\t\t\t\tthis.props.thread.permalink ? \n\t\t\t\t\t\tthis.props.thread.permalink :\n\t\t\t\t\t\t\"https://reddit.com/r/anime\"\n\t\t\t\t\t}\n\t\t\t\t\trel=\"noreferrer noopener\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>Latest Thread</a></h5>\n\t\n\t\t\t\t<h6 id='logged-in-as' className='text-right'>\n\t\t\t\t\t{this.props.refreshToken &&\n\t\t\t\t\t(this.props.loggedInAs\n\t\t\t\t\t\t? <small>\n\t\t\t\t\t\t\tLogged in as {this.props.loggedInAs} (<a \n\t\t\t\t\t\t\t\thref='javascript:void(0)'\n\t\t\t\t\t\t\t\tonClick={this.props.logout}>logout</a>)\n\t\t\t\t\t\t</small>\n\t\t\t\t\t\t: <small>Loading user info...</small>)\n\t\t\t\t\t}\n\t\t\t\t</h6>\n\n\t\t\t\t<hr id='topbar' />\n\t\n\t\t\t\t{this.props.isLoggedIn ?\n\t\t\t\t\t(<a\n\t\t\t\t\t\thref='javascript:void(0)'\n\t\t\t\t\t\tclassName='reddit-button'\n\t\t\t\t\t\tonClick={() => this.toggleEditor('reply')}\n\t\t\t\t\t>reply to thread</a>) :\n\t\t\t\t\t(<a\n\t\t\t\t\t\tid=\"reddit-login-button\"\n\t\t\t\t\t\thref={uriBase+params}\n\t\t\t\t\t><i className=\"fab fa-reddit\" /> Login</a>)\n\t\t\t\t}\n\n\t\t\t\t{this.state.editorMode === 'hidden' ||\n\t\t\t\t\t<Editor\n\t\t\t\t\t\teditorMode={this.state.editorMode}\n\t\t\t\t\t\ttoggleEditor={this.toggleEditor}\n\t\t\t\t\t\t_id={this.props.thread._id}\n\t\t\t\t\t\taccessToken={this.props.accessToken}\n\t\t\t\t\t\tupvote={this.props.upvote}\n\t\t\t\t\t/>\t\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Heading;\n","import Heading from '../components/Heading';\n\nimport { setUser,\n\tsetAccessToken,\n\tupdateThread,\n\tlogout,\n\tupvote } from '../redux/actions';\n\nimport { connect } from 'react-redux';\n\nconst mapStateToProps = (state) => ({\n\trefreshToken: state.reddit.refreshToken,\n\taccessToken: state.reddit.accessToken,\n\tisLoggedIn: state.reddit.isLoggedIn,\n\tloggedInAs: state.reddit.loggedInAs,\n\tthread: state.feed.thread\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n\tsetUser: user => dispatch(setUser(user)),\n\tsetAccessToken: token => dispatch(setAccessToken(token)),\n\tupdateThread: thread => dispatch(updateThread(thread)),\n\tlogout: () => dispatch(logout()),\n\tupvote: _id => dispatch(upvote(_id))\n});\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Heading);\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\nclass About extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { md: \"Loading...\" };\n\t}\n\n\tcomponentDidMount() {\n\t\taxios.get(\n\t\t\tprocess.env.NODE_APP_API+\"content/about.md\",\n\t\t\t{ crossorigin: true }\n\t\t).then(res => {\n\t\t\tthis.setState({ md: res.data });\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h6\n\t\t\t\t\tclassName=\"text-right\"\n\t\t\t\t><small>\n\t\t\t\t\t<Link to='/feed' className=\"corner-link\">Feed</Link>\n\t\t\t\t</small></h6>\n\n\t\t\t\t<h6\n\t\t\t\t\tclassName=\"text-right\"\n\t\t\t\t><small>\n\t\t\t\t\t<Link to='/changelog' className=\"corner-link\">Changelog</Link>\n\t\t\t\t</small></h6>\n\n\t\t\t\t<h2\n\t\t\t\t\tclassName=\"text-center\"\n\t\t\t\t\tid=\"title\">About</h2>\n\t\t\t\t<hr />\n\t\t\t\t<ReactMarkdown source={this.state.md} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default About;\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\nclass About extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { md: \"Loading...\" };\n\t}\n\n\tcomponentDidMount() {\n\t\taxios.get(\n\t\t\tthis.props.api+\"content/changelog.md\",\n\t\t\t{ crossorigin: true }\n\t\t).then(res => {\n\t\t\tthis.setState({ md: res.data });\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h6\n\t\t\t\t\tclassName=\"text-right\"\n\t\t\t\t><small>\n\t\t\t\t\t<Link to='/feed' className=\"corner-link\">Feed</Link>\n\t\t\t\t</small></h6>\n\n\t\t\t\t<h6\n\t\t\t\t\tclassName=\"text-right\"\n\t\t\t\t><small>\n\t\t\t\t\t<Link to='/about' className=\"corner-link\">About</Link>\n\t\t\t\t</small></h6>\n\t\t\t\t\n\t\t\t\t<h2\n\t\t\t\t\tclassName=\"text-center\"\n\t\t\t\t\tid=\"title\">Changelog</h2>\n\t\t\t\t<hr />\n\t\t\t\t<ReactMarkdown source={this.state.md} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default About;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nconst PageNotFound = () => {\n\treturn (\n\t\t<div>\n\t\t\t<h1 className=\"text-center\">This page does not exist</h1>\n\t\t\t<hr />\n\t\t\t<h1 className=\"text-center\">\n\t\t\t\t<Link to='/feed'>\n\t\t\t\t\t<img alt=\"\" src=\"/faces/akarislap.gif\"></img>\n\t\t\t\t</Link>\n\t\t\t</h1>\n\t\t</div>\n\t);\n}\n\nexport default PageNotFound;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { setUser,\n\tsetAccessToken,\n\tsetRefreshToken } from '../redux/actions';\n\nimport { connect } from 'react-redux';\n\nclass Login extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tgotToken: false,\n\t\t\terror: null\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.state && this.props.code) {\n\t\t\taxios.get(\n\t\t\t\tprocess.env.REACT_APP_API + \n\t\t\t\t\t'v1/token.json?code=' + \n\t\t\t\t\tthis.props.code,\n\t\t\t\t\t{ crossdomain: true }\n\t\t\t).then(res => {\n\t\t\t\tif (res.data.message.refresh_token) {\n\t\t\t\t\tlet rt = res.data.message.refresh_token;\n\t\t\t\t\tlet at = res.data.message.access_token;\n\t\t\t\t\tthis.props.setRefreshToken(rt);\n\t\t\t\t\tthis.props.setAccessToken(at);\n\t\t\t\t\tlocalStorage.setItem('refreshToken', rt);\n\t\t\t\t\taxios({\n\t\t\t\t\t\tmethod: 'get',\n\t\t\t\t\t\turl: 'https://oauth.reddit.com/api/v1/me',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: 'bearer ' + at\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tthis.props.setUser(res.data.name);\n\t\t\t\t\t\tthis.setState({ gotToken: true });\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ error: 'Error retrieving token' });\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({ error: 'Invalid params' });\n\t\t}\n\t}\n\t\n\trender() {\n\t\tif (this.state.gotToken) {\n\t\t\treturn <Redirect to='/feed' />\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<p>Authorizing</p>\n\t\t\t);\n\t\t}\n\t}\n}\n\nconst mapDispatchToProps = dispatch => ({\n\tsetRefreshToken: token => dispatch(setRefreshToken(token)),\n\tsetAccessToken: token => dispatch(setAccessToken(token)),\n\tsetUser: user => dispatch(setUser(user))\n});\n\nexport default connect(null, mapDispatchToProps)(Login);\n","import React from 'react';\nimport FeedContainer from './containers/FeedContainer';\nimport HeadingContainer from './containers/HeadingContainer';\nimport About from './components/About';\nimport Changelog from './components/Changelog';\nimport PageNotFound from './components/PageNotFound';\nimport Login from './components/Login';\nimport {\n\tBrowserRouter as Router,\n\tRoute,\n\tRedirect,\n\tSwitch\n} from 'react-router-dom';\nimport * as qs from 'query-string';\n\nimport './style.scss';\n\nclass App extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.generateString = this.generateString.bind(this);\n\t\tthis.handleLogin = this.handleLogin.bind(this);\n\t}\n\n\thandleLogin(refreshToken, accessToken) {\n\t\tlocalStorage.setItem('refreshToken', refreshToken);\n\t\tsessionStorage.setItem('accesToken', accessToken);\n\t}\n\n\tgenerateString() {\n\t\tlet str = \"\";\n\t\tlet chars = \"1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm\";\n\t\tfor (let i=1; i<20; i++) {\n\t\t\tstr += chars[Math.floor(Math.random() * chars.length)];\n\t\t}\n\t\treturn str;\n\t}\n\n\tcomponentDidMount() {\n\t\t// set unique string for device, for use in Reddit OAuth\n\t\tif (localStorage.getItem('device') == null) {\n\t\t\tlocalStorage.setItem('device', this.generateString());\n\t\t}\n\t}\n\n\trender() {\n\t\tlet api = process.env.REACT_APP_API;\n\t\tlet params = qs.parse(window.location.search, {ignoreQueryPrefix: true});\n\t\treturn (\n\t\t\t<Router><div id=\"content\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Redirect exact from='/' to='/feed' />\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact path='/feed'\n\t\t\t\t\t\trender={ () => {\n\t\t\t\t\t\t\treturn <div stype={{padding: '3px'}}>\n\t\t\t\t\t\t\t\t<HeadingContainer />\n\t\t\t\t\t\t\t\t<FeedContainer />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact path='/about'\n\t\t\t\t\t\trender={ () => {\n\t\t\t\t\t\t\treturn <About api={api} />\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact path='/changelog'\n\t\t\t\t\t\trender={ () => {\n\t\t\t\t\t\t\treturn <Changelog />\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact path='/reddit_oauth_login'\n\t\t\t\t\t\trender={ () => {\n\t\t\t\t\t\t\treturn <Login \n\t\t\t\t\t\t\t\thandleLogin={this.handleLogin} \n\t\t\t\t\t\t\t\tstate={params.state}\n\t\t\t\t\t\t\t\tcode={params.code}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t</Switch>\n\t\t\t</div></Router>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport rootReducer from './redux/reducers';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}